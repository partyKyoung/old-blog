{"componentChunkName":"component---src-templates-blog-template-tsx","path":"/2020-04-01-etc-redux/","result":{"data":{"site":{"siteMetadata":{"title":"Kyoungah's dev blog.","author":"Kyoungah"}},"markdownRemark":{"id":"7eb0b4fd-33f7-57fb-b0f7-3ae287a67650","excerpt":"Redux란? Redux는 JavaScript App을 위한 상태관리 라이브러리 이다. 글로벌 상태 관리를 할 때 굉장히 효과적이다. 주로 React에서 글로벌 상태 관리를 위해 많이 사용하나 React가 아닌 다른 JavaScript 라이브러리에서도 사용 가능하다.  예를 들어서 A…","html":"<h2>Redux란?</h2>\n<p>Redux는 JavaScript App을 위한 상태관리 라이브러리 이다. 글로벌 상태 관리를 할 때 굉장히 효과적이다.</p>\n<p>주로 React에서 글로벌 상태 관리를 위해 많이 사용하나 React가 아닌 다른 JavaScript 라이브러리에서도 사용 가능하다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAABu0lEQVQoz21TSY7bMBD0/9+ST+QypxyCIMEgl2RmLNvaRZHiInGpNCmRtjFpQKBJFqurutunEAJi5PUx0lm593DyL6z4Tesbgrc4bp7en/Im7D9QXyrcrtcCvSe02PqvWN6/wE4v8Fan87qu0XVdIT0VZbTqcUQXAW0LPU0P6naFCAby9oaVtencOYe+7zAMA7z3d4WeLlhTYxEC2fjCOaaqgk+koSj11kG2HWYiUVrv7uiTUmJZlp3QGINp6LFqXeoXs/N5hiJgKctBKoisp9KsRJBj2zYIErQTriuGpsHStU8FjorlNH5qkKByDLEs5MIqVUgToaKDmZTEB4wyr5QpWaM9ZxNE3z8lidY4EZmZYaZVMZZII74Qxi9anCmzJECybG0CqMNWthyxmkpkBAejhmz0zikJTaKk0nuXc4d4VEhZc8ho+WEkknLC+sM+ozLlOXSknN1uew3zaLx+cIxiO2Yw4OfHd7Tj9VNTYlgX8Oudgyu372nQf/z5dp/DmLmdNIRak93YtXZuYKx5Uvi4NoSXeoMlvFkNetHdCePoXGkUapJ9uVxwPp+hlf7v3zLve5qKqjoXfIx/7v2nq3BHMNYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Redux를 사용하지 않았을 때와 사용하였을 때의 비교\"\n        title=\"Redux를 사용하지 않았을 때와 사용하였을 때의 비교\"\n        src=\"/static/23d9d83ac483e8d8909dd9ba419b33fd/5a190/etc-redux-1.png\"\n        srcset=\"/static/23d9d83ac483e8d8909dd9ba419b33fd/772e8/etc-redux-1.png 200w,\n/static/23d9d83ac483e8d8909dd9ba419b33fd/e17e5/etc-redux-1.png 400w,\n/static/23d9d83ac483e8d8909dd9ba419b33fd/5a190/etc-redux-1.png 800w,\n/static/23d9d83ac483e8d8909dd9ba419b33fd/6a6e9/etc-redux-1.png 826w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Redux를 사용하지 않았을 때와 사용하였을 때의 비교</figcaption>\n  </figure></p>\n<p>예를 들어서 A 컴포넌트에 상태 변화가 일어났을 때 B 컴포넌트에도 바뀐 상태가 변경이 되어야 한다. Redux를 사용하지 않고 A 컴포넌트에서 App 컴포넌트까지 바뀐 상태를 전달해 준 후 App 컴포넌트에서 B 컴포넌트 까지 바뀐 상태를 props로 전달해줄 수는 있으나 엄청 번거롭고 귀찮은 작업이다.</p>\n<p>Redux는 애플리케이션의 최상위에 글로벌 Store를 생성하여 다른 모든 컴포넌트로 상태를 공급한다. 애플리케이션의 상태와 상태 변화 로직이 들어있는 Store를 통하여 우리가 원하는 컴포넌트에 원하는 상태값과 함수를 직접 전달할 수 있다.</p>\n<h2>Actions</h2>\n<p>Action은 Application에서 Store로 데이터를 보내는 데이터 묶음이다. JavaScript 객체로 표현된다.\nAction은 일어난 일만 명세할 뿐 상태가 어떻게 변하는지는 명세하지 않는다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// type</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">ADD_TODO</span> <span class=\"token operator\">=</span> <span class=\"token string\">'ADD_TODO'</span>\n\n<span class=\"token comment\">// action</span>\n<span class=\"token punctuation\">{</span>\n  type<span class=\"token operator\">:</span> <span class=\"token constant\">ADD_TODO</span><span class=\"token punctuation\">,</span>\n  text<span class=\"token operator\">:</span> <span class=\"token string\">'Redux - Actions 정리'</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Action 객체는 수행 중인 작업의 유형을 나타내는 type 속성이 필요하다. type은 대게 string 형식으로 정의한다. type을 제외한 그 외의 값들은 개발자 마음대로 넣어줄 수 있다.</p>\n<h3>Action Creators</h3>\n<p>Action Creators는 Action을 생성하는 함수이다. Parameter을 받아서 액션을 만들어 반환한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">addTodo</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">text</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    type<span class=\"token operator\">:</span> <span class=\"token constant\">ADD_TODO</span><span class=\"token punctuation\">,</span>\n    text<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Reducers</h2>\n<p>Reducer는 Store로 보낸 Action에 응답하여 상태가 어떻게 변하는지를 정의한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">reducer</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">state <span class=\"token operator\">=</span> initialState<span class=\"token punctuation\">,</span> action</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>action<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token constant\">ADD_TODO</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token operator\">...</span>state<span class=\"token punctuation\">,</span>\n        text<span class=\"token operator\">:</span> action<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> state<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Reducer는 이전 상태와 Action을 받아 새로운 상태를 반환하는 <code class=\"language-text\">순수한 함수</code> 이다. Reducer를 순수하게 유지하는 것은 매우 중요하기 때문에 다음 사항들은 절대로 Reducer 안에서 하면 안된다.</p>\n<ul>\n<li>argument의 변경이 일어나서는 안된다.</li>\n<li>API 호출이나 라우팅 변환 같은 사이드 이펙트를 일으키면 안된다.</li>\n<li>\n<p>똑같은 파라미터로 호출된 리듀서 함수는 언제나 똑같은 값을 반환해야 한다.</p>\n<ul>\n<li>때문에 실행 떄마다 다른 결과 값을 반환하는 Date.now(), Math.random() 같은 순수하지못한 함수들은 reducer 안에서 호출하면 안된다.</li>\n</ul>\n</li>\n</ul>\n<h2>Store</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> createStore <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"redux\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> reducer <span class=\"token keyword\">from</span> <span class=\"token string\">\"./reducer\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> store <span class=\"token operator\">=</span> <span class=\"token function\">createStore</span><span class=\"token punctuation\">(</span>reducer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Store은 Action과 Reducer를 함께 제공해주는 객체이다. Store 안에는 App의 현재 상태와 Reducer가 들어있고 추가적으로 몇가지 내장함수들이 있다.</p>\n<p>Store는 다음과 같은 일들을 한다.</p>\n<ul>\n<li>애플리케이션의 상태를 저장한다.</li>\n<li>getState() 메소드로 상태에 접근할 수 있다.</li>\n<li>dispatch(action) 메소드로 상태를 업데이트 할 수 있다.</li>\n<li>\n<p>subscribe(listener를) 메소드로 listener를 등록할 수 있다.</p>\n<ul>\n<li>subscribe(listener를) 메소드에서 반환된 메소드로 listener를 해제를 핸들링 할 수 있다.</li>\n</ul>\n</li>\n</ul>\n<p>Redux에서는 단 하나만의 Store를 가질 수 있다.</p>\n<h2>Redux를 꼭 써야할까?</h2>\n<p>옛날의 React 였다면 글로벌 상태 관리를 위해 Redux를 쓰는게 효과적이었지만 요즘은 프로젝트 규모가 작거나 단순히 글로벌 상태 관리만 하려면 굳이 Redux를 도입할 필요는 없는 것 같다.</p>\n<p>Context API도 있고 hooks도 있기 때문에 이들을 잘 조합하여 사용하면 Redux를 사용하지 않고도 글로벌 상태 관리를 할 수 있다. 이 블로그도 Context API + hooks를 사용하여 글로벌 상태 관리를 하고 있다.</p>\n<p>무작정 상태관리를 위해 Redux를 도입하기 보다는 정말로 Redux가 필요한지 잘 생각해보고 프로젝트에 도입하면 좋을 것 같다.</p>\n<h2>Reference</h2>\n<blockquote>\n<ul>\n<li><a href=\"https://redux.js.org/basics/basic-tutorial\">Redux Basics</a></li>\n<li><a href=\"https://velog.io/@velopert/Redux-1-%EC%86%8C%EA%B0%9C-%EB%B0%8F-%EA%B0%9C%EB%85%90%EC%A0%95%EB%A6%AC-zxjlta8ywt\">Redux (1) 소개 및 개념정리</a></li>\n</ul>\n</blockquote>","frontmatter":{"title":"Redux","date":"2020년 04월 01일"},"fields":{"slug":"/2020-04-01-etc-redux/"}}},"pageContext":{"slug":"/2020-04-01-etc-redux/"}},"staticQueryHashes":["1447968848"]}