{"componentChunkName":"component---src-templates-blog-template-tsx","path":"/2020-07-25-etc-aws-iam-security/","result":{"data":{"site":{"siteMetadata":{"title":"Kyoungah's dev blog.","author":"Kyoungah"}},"markdownRemark":{"id":"a24cc827-78db-50df-b070-c115e358fc93","excerpt":"저번에 IAM이 뭔지 알아보면서 IAM 사용자 추가 작업까지 한 후 IAM 보안 상태가 있다는걸 확인했다. 필수로 설정하지 않아도 되는 항목이라 이것까지 알아야될 필요가 있을까 싶었는데 좀 더 AWS…","html":"<p>저번에 <a href=\"/2020-07-19-etc-aws-iam/\">IAM이 뭔지 알아보면서</a> IAM 사용자 추가 작업까지 한 후 IAM 보안 상태가 있다는걸 확인했다. 필수로 설정하지 않아도 되는 항목이라 이것까지 알아야될 필요가 있을까 싶었는데 좀 더 AWS를 안전하고 제대로 사용하려면 알고 있는게 나을거 같아서 항목 하나 하나씩 제대로 알아보기로 했다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 695px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAAA+UlEQVQoz5WR3W6DMAyF8/5PtdtdwRUEyA9poYEAgQLdpE7ijHjqtJtVNNKRLeXI/mwzW1vM84y/b9s2PHuP73cz460Y8Xn/wsdthes6MF5zXKoLzMnAWouqqrCuK5ZloUbP1PsJ3TDiuufOtZimCSyTMU7mjKIooLWGUgrGGLRti2EY0Pf9v/J+IAVf8HvvwWwWQSiNNE2QZRmSJNnzlGjHcSTzEYXJQmSxjmC0gVSSyKSU1D3gHy0W1DTND2FURihViZSnRJjnOVE+DEcLhomoYCliCKloTM45RSEEUb5C+Dvytdb7uXu4fanOOVK3nz9c+RWFFYX4DWITWGS8ORN1AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"IAM 보안 상태\"\n        title=\"IAM 보안 상태\"\n        src=\"/static/d8f30c779fc1536b7de6423c17b85d31/83b75/aws-iam-16.png\"\n        srcset=\"/static/d8f30c779fc1536b7de6423c17b85d31/772e8/aws-iam-16.png 200w,\n/static/d8f30c779fc1536b7de6423c17b85d31/e17e5/aws-iam-16.png 400w,\n/static/d8f30c779fc1536b7de6423c17b85d31/83b75/aws-iam-16.png 695w\"\n        sizes=\"(max-width: 695px) 100vw, 695px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">IAM 보안 상태</figcaption>\n  </figure></p>\n<p>IAM 대시보드 창에 접속하면 IAM 보안 상태를 확인할 수 있다. 좀 더 안전한 AWS 사용을 위해 각각 보안 항목들을 설정해보자.</p>\n<h2>루트 액세스 키 삭제</h2>\n<p>AWS CLI, PowerShell용 도구, AWS SDK 또는 직접 AWS API 호출을 할 때 액세스 키를 사용한다. Root 사용자의 액세스 키는 모든 리소스에 무제한적으로 접근할 수 있기 때문에 사용하지 않는것이 안전하다.</p>\n<p>루트 액세스 키는 AWS 계정을 생성할 때 자동으로 생성되지 않기 때문에 이 항목에서 해줘야 할 작업은 없다. Root 액세스 키를 생성하는 것은 가능하나 이 액세스 키를 탈취 당하면 AWS의 모든 권한을 탈취당하는 것이나 마찬가지므로 왠만하면 생성 하지말자.</p>\n<h2>루트 계정에서 MFA 활성화</h2>\n<p>루트 계정에서 MFA(Multi-factor authentication, 다중 요소 인증)활성화는 Root 사용자 로그인에 OTP(One-Time Password, 일회용 비밀번호) 인증을 더하는 것 이다. Root 사용자 로그인 시도 시 일회용 비밀번호를 입력해야 로그인이 가능하다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.499999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAuElEQVQY052ObWuDMBRG8///2daBpZQNo7WuialJNEr7YcOlnCWC+zx64dyH575wr3Dnd9rPC3VdIaWkqirKsqRpGqZpIoTwb7TWCHfaY4dAZwzGdFwTXWoopRiGAe/9quM4/rH5rBvZO+cQrazRdeJUc+ksjbKcteXa2zTo6ft+XQjp2+3jvDzP83osk33u5Zpo9wUfRYGXJfF25+sB30tKT4YwuxfU2yvheCDeb8RHJP4sLMtz/ALyonrTqO2nRgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"보안 상태 항목\"\n        title=\"보안 상태 항목\"\n        src=\"/static/8482e4e9ddb561fc09dbdc10d21be97a/0a47e/aws-iam-security-1.png\"\n        srcset=\"/static/8482e4e9ddb561fc09dbdc10d21be97a/772e8/aws-iam-security-1.png 200w,\n/static/8482e4e9ddb561fc09dbdc10d21be97a/e17e5/aws-iam-security-1.png 400w,\n/static/8482e4e9ddb561fc09dbdc10d21be97a/0a47e/aws-iam-security-1.png 600w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">보안 상태 항목</figcaption>\n  </figure></p>\n<p>MFA를 활성화 하려면 보안 상태 항목에서 MFA 활성화 항목을 선택한 후 MFA 관리 버튼을 클릭하여 보안 자격 증명 화면으로 이동한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 15%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAdElEQVQI152JsQ4CIRAF+f9v8BP8DTujJsZOuBhPYBMrgW5hziOeuVhaTGbnrZHo8fcB565Y54gxEkL4euG317uIIB+b8fFktx+w1lNy4pUS6U0ppTvn3Jl7udc9u7XWqbVizpeRzfbE4XgDGqq1P/5BVZkArKrkBHt58vsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"멀티 팩터 인증\"\n        title=\"멀티 팩터 인증\"\n        src=\"/static/0c9d767238f9ea3f7530057c59d7225b/8c557/aws-iam-security-2.png\"\n        srcset=\"/static/0c9d767238f9ea3f7530057c59d7225b/772e8/aws-iam-security-2.png 200w,\n/static/0c9d767238f9ea3f7530057c59d7225b/e17e5/aws-iam-security-2.png 400w,\n/static/0c9d767238f9ea3f7530057c59d7225b/8c557/aws-iam-security-2.png 700w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">멀티 팩터 인증</figcaption>\n  </figure></p>\n<p>멀티 팩터 인증(MFA) 항목을 선택하여 MFA 활성화 버튼을 클릭한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABkElEQVQoz5WS20sCQRjF9+8OAt8L/4IsKi2jhKCe6qEeRNdLtgrRSy3aqri4rHt1L15O8806q1SCDfyY2zeHM2dG2tvPIF8o4uj4FLmThLP8Jc4Lu0P1xatrHBxmITWbTdiWBX00wng8hmEYmM1mjBhxHO0M1auqCqnVaiEMA7iui+l0Cs/zYJomfN/nwnEcp0Qb403CKMJyuUSv14P08qpAN2yonx/odrsYDAZwHIcXUtEm25rYo7OSorT5xGLXJiHhlByKntYi5kIc/slisVgLttuJ4HA45IK0OZ/PU/4S2CaoadpacMQehbKzbZv3lCU55Ae2wYSEAWr9fh9Sp9NJBcmyrutcUBT9p6UO6QHoy1CO5IxyI6eE5UWY+DNYDDdIcKasZ4gah2XMM2Sx8W9DgrRB4VOOAlqbuAFMN4TpBEw8ZPNkzNd5RBYC30murH1BqtfrPAeR2W/8Nf6K1TgIAubOx9ObgezjCDXlHVKpVEKj0UC5XEalUoEsyztTrcqo1WRc3D0jk3vAze09vgFNCH5eGVwewQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"MFA 디바이스 관리\"\n        title=\"MFA 디바이스 관리\"\n        src=\"/static/3c78d221a751d6bde6ebe9c45a982b05/5a190/aws-iam-security-3.png\"\n        srcset=\"/static/3c78d221a751d6bde6ebe9c45a982b05/772e8/aws-iam-security-3.png 200w,\n/static/3c78d221a751d6bde6ebe9c45a982b05/e17e5/aws-iam-security-3.png 400w,\n/static/3c78d221a751d6bde6ebe9c45a982b05/5a190/aws-iam-security-3.png 800w,\n/static/3c78d221a751d6bde6ebe9c45a982b05/c1b63/aws-iam-security-3.png 1200w,\n/static/3c78d221a751d6bde6ebe9c45a982b05/d7ceb/aws-iam-security-3.png 1446w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">MFA 디바이스 관리</figcaption>\n  </figure></p>\n<p>MFA 디바이스 관리 항목에서 원하는 MFA 디바이스 유형을 선택한다.</p>\n<ul>\n<li>가상 MFA 디바이스 유형은 가상 디바이스로 OTP를 발급받아 인증하는 방식이다. 가상 디바이스를 스마트폰으로 사용하는 경우 AWS에서 공식 지원하는 OTP 생성어플을 사용하면 된다. 대표적인 예로 Google Authenticator가 있다.</li>\n<li>U2F(Universal 2nd Factor)는 FIDO Alliance에서 호스팅하는 공개 인증 표준이다. <a href=\"https://www.amazon.com/stores/page/8E6D7A52-6F69-4A70-A07B-4168A9FD33B0?ingress=0&#x26;visitId=4e887182-a088-465f-a4b3-b9f1b06da6a1&#x26;channel=SLP_FW_21D9BC02-6DFF-4BD7-A77F-4AE207A2AEFD&#x26;liveVideoDataUrl=https://amazonlive-portal.amazon.com/v2\">U2F 보안 키</a>는 USB 형식으로 되어 있는데 이걸 컴퓨터 USB 포트에 연결하여 이중 인증을 할 수 있다.</li>\n<li><a href=\"https://www.amazon.com/SafeNet-IDProve-Time-based-6-Digit-Services/dp/B002CRN5X8?ie=UTF8&#x26;keywords=gemalto%20aws&#x26;qid=1462806259&#x26;ref_=sr_1_1&#x26;sr=8-1\">하드웨어 MFA 디바이스</a>는 은행애서 사용하는 OTP 발생기 같은 하드웨어를 사용하여 인증을 하는 것이다. 역시 AWS에서 공식지원하는 하드웨어를 사용해야 한다. 대표적인 예로 Gemalto에서 만든 OTP 생성기가 있다.</li>\n</ul>\n<p>위의 세 유형 중 원하는 유형을 선택하고 계속 버튼을 누르면 된다. U2F 보안 키, 하드웨어 MFA 디바이스 유형은 추가 장비를 구매해야 하기 때문에 스마트폰만 있으면 쉽게 인증할 수 있는 가상 MFA 디바이스 유형이 제일 무난하다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 101.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAACVklEQVQ4y41UTW/aQBD130WJokhcklAhRXDmkkgofBwQN4450VtFxKUflFYiSvk0xgiwjcE2NjU2vO4sMUkaBxjpabG9+3hvdmaERqOB6XSKoSxjMh5j/AzbdhhsWJYF0zT5Ggb6RlgsFnh8fITQ7XaxXC6hqBpmcwO6PoOmaZhMJvyPXNfFer3eC9/3QSFJEgSx18PcXqE50CCrJsSRjhFXaMNxHPwfm83mHYh0R9jpdLh0aSBDZcp0XecqSSFBlodsVTCb6fA8by+hKIpbQnpJ9ghESJaJXNNUGBbLo+Niww7RvrAICPv9/paQolgsIhaLcVxfXyOVSqFQKDzbPM7yG8JMJoPLy0tcXV1xwmg0iru7u52C4HBAGqZQZpUitFot/kCHLy4ukEwmEY/HkUgkkM/n36k6aLndbvOH+/t7nJ2dcTJaT09PkU6n3yj8KEIJS6USTk5OcH5+zkkjkQjL56d3lg/mMCCs1WqoVCool8uoVqt4eHjAj+/fQnO2V2GPFTZVOhUxdcxq5TG4WHk+WL3DtN0Pbze0sKkYqQ+pf0ejEb8p+k2tqJtLOK6/l+w14WAweCGkVVVVXtjz+RyGYWDte6Rtd+CQ5R0hBRGR5df2fH/b+EHzH62QXpJdUhYQEF5Pk6Mt06UEsoMPYYf2x+alU56envjMozzSyDoGFttrWrR/Ad1YYMDGnmL8xZ9mC0K9Xuf5o1GlKMpBaOzipOEEHWkEsdvGr6aEzz+H+NKY4GvtN4Sbmxvkcjk+HA4hG6zZLHIMGYZsNsPmwPbd7e0t/gG9UsymPTih0wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"가상 MFA 디바이스 설정\"\n        title=\"가상 MFA 디바이스 설정\"\n        src=\"/static/a60d88f0ef3117dbc7ccefc192bba331/5a190/aws-iam-security-4.png\"\n        srcset=\"/static/a60d88f0ef3117dbc7ccefc192bba331/772e8/aws-iam-security-4.png 200w,\n/static/a60d88f0ef3117dbc7ccefc192bba331/e17e5/aws-iam-security-4.png 400w,\n/static/a60d88f0ef3117dbc7ccefc192bba331/5a190/aws-iam-security-4.png 800w,\n/static/a60d88f0ef3117dbc7ccefc192bba331/c1b63/aws-iam-security-4.png 1200w,\n/static/a60d88f0ef3117dbc7ccefc192bba331/5bd27/aws-iam-security-4.png 1432w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">가상 MFA 디바이스 설정</figcaption>\n  </figure></p>\n<p>QR 코드 보기를 눌러 QR 코드를 화면에 띄웠다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.99999999999997%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAJpUlEQVRIxx2Ud1TUVx7FJ9sErBuNGlFjjdGAIiIxm5imsUYTRRZROgiDMDRhhqHMDE2aFGFwhjpUaQMCwtCkKypmc2ISNz0nFlRUQMWcPWdLPvv0j+95v/Pe+913v/fe9yQrV3qx9g1fli5xZ9lr7syY4YC5+YEXNe0vnzFv3hFWrfJm9WofFi/1xMzCkWnTHLEwd8LczInp051ZMN+TRas8sVzngWTOHBcWLfFkzcYArG1DsBTfFhZOzLf0Ye36AKzelLJwoQdzX3bFapkXdmv8WPv6cWbNdBFzHqxfH8bGjaG8tuwYswSWxGyaC8usZBwMzcAzIB3bzTJmznRn3XuJeIXl4+MZx4oVUubO8eAzcajfLiWH9icx7xUf1r0RTJhMh5vbKezswkV3bkjMzTxZ92YsHm7ZOB0NwdoukNmzfPnbzmRkCj3OTgksXx4kWpey2VbFO1sS2GwXx8tzpaxZFYrjp+ls3XpSYEQxa5a3YGjux4pFCrbaqFn/9gmWvBGBuYWUDRui2Lc/BdtNGmbPCRRzvqKtSKysNKxcqRQ/S5k/X4aVtQpra404VC4Y+iKxMJcxfUYwG5aHctRGyq5lHrw601cwELosj+TDDRHstA5i9YpwARQpDAhh9mxxgLlUsA5ihQBaujSChQtCmDHdXwCahQkjVPjvVNLs4EzJNgc2L/TDaq2G/ZvkaPcFUuEbg69bDgcdcoXzAcJZGWZmgSy2lLP9g1Q+2XWKjRvUYj7wuSlKbGyzOCEvJ1meg+vH8SyYE8l7W7Lw2n4S/3dj2GGrYdUKlTBHLeISJpiEYWEWysp1ahx88nB3K+KDrZnCzLDngGphey4e0hr2HyrHen2u0EslspfFpk352Gw4w/xXEvnDS+H88aUTgmEEfxH15z+Fs2CJ0H1rFnb2Z4TjGSJKiuctJ7Po1Uw22uiwtynCZq2OFUuzRMt67N6qwsa+itdW57Ng8Wksl+WydPlpli9NY+niVF5fmYmdrR6rdVlCw0RBJBrJDItMQf8Ue7bXo5JfISr4IqGBlznm/wUK9w5iDlajPFhHrGM9MZ+VoXGpI/RYL2Fe3QR49xDs34/nkSaOrAvEep5oedq0HEG3FJXmBo3uBdzY7MyNTYcpOFxKvLORwvTrfH3lZ671Xcdk/ImsQwUEnrjGDt04DuWPcdbdQxnzFckHknh3YajQcEY+9m83ooz/hZGDMfzuLQUfX/r2q1A6t9J8fozSykJkwccx9X1DnqcRl+h/sr0LZJdhb9N/CVN/x95dTSKbGeKmvFrOWrsWAuPvc+l9Gb+vtoI3beh+Pxy5WxdN5+7RaWogXq2gb/B7tF5GXGO+Y3cnSIfgo7r/EKr5mQ/3dGI294wAXFOL5aYWpHF3SfY2cf6dCM6LG6MR+mmOdRKffZfWod9oG5ikoH6cbO8alKrreOaP4WUY50jGXeRxv7DTsZuFVqUC0L4Jy49MBCX9gv+pCcJK/kdQ/r/xjH9IqqwdnaKTrIhuTod3UhjZSklwNcknvyQz/WvSMr4nOuEHwlNGSTpWgvRQHpJ529rZ4txMRM5tahs/Z/xKMb82R1NiGCAsdRRVwldExX1NTNx1khI+JzXtS5LSvyLm5DfIT/6IIv1XYrVjRPrXsXdvIZK3nPs45N+BuuwJV5uL+DHxr9w2bGWw7Txy7TgxeXeIzBFO5oyiybtFqu4nUrU/EJ/zM7GCRIz2HknFj3CIuM6iHW1IthwdxClsmLTqKXrauhgt38F9/QZM57pQF02RUHgPtX4MtW6MpIK7pBfdJq3gFon628Tp76MpENJUPHkBaPkccLPzEA7BIxQ1jlPZ9pBznTc5Z/qRM7WPOCU2ppdPkmwQVTLOKcMYp0tHyTHcJrN4lDTDA1LLxsmpn+KQAFz9SSeSj32GcYkYoab1EXXtTyhtfkZJ078oaHgmagqd2KyteYr27CT6qjGKq25TUnWToqo75FePoRfOl7ROESA0/dC9H4mbaFeZOkJTxyOMpklqWx9T3fqUGtMzatp/o6rtGeXNU5Q1TlDVcJ8a4y1q629S03CHmuYHVLdNYOx5Smrht/jKLyLxkQ+jyvictt5xWnue0NT9VNQzWi6I6n1GkxgbOqcwtk3SeP4+TS13aG6+TUvrXc53PqS1d5LOYdFFxbfIoi8hic/oJ113VQR3AtPgU1r7n9Imqn1gio7BKUxibO19Skv3pAB4gKl9lA7THTo779HV+5DuwQkGrwnA8m/xUgjA0/k95BYPYRqaeHFS+9ATOi4+oevSY7qHH78YO4YeY+qfpL3nAV3dd+npukPfhVEG+scYuPSIK19MUXj2SyJShIa5JX1kFfZS1HyDjpFJuq88pufqJP0jE/Rfm6D36jgXLk/QfUmsXRynZ+Aegz03GX5e4nv4+VrPLfRlfWQW9SHJ1LaTk9clctWKtraXCuM/KKkZQW9oJL+sgXLjEAbjCGeqr5GQ0UBhXiP1dUPC5WGKKy5Rpu2iSN+NrlRc0eIuJMroHNLSytHlNZGrbSQxpZIwuZZY1WlSU4vIyTESf/KsePNK0UTp0SdXUlTcTVJmJykpzeRn1FNc0MaZ3FISY5XCZb8QVAoVMZpkYuNSCJErcHKX4Xs8DoU8lUhZOoHuGo47ylGFZJB1spjTCh3R3tlEeuQTH1JBanQeGZEKEnydkRze/ykn3J1x9znKvsOH2e10gK27D7B3nzveboG47z/OkW0+uO3wQeYRRLJCTaJTOIo9IYT8XUOMr5KoEG8iQh2QB+5B4rR3G84H9rB3z25st2zD/r0d2L+zg0/3OaCU+RLk7YfcJ4i0QDkpCgU5CUoylMHEh0qRh0hJi3ZFFbeH46ptBMR8gCTqhCuKSDf8Y90ICDtChuM+8dC6kKVRYMhNolSfTL0ujpZCNQUlcnLKQ6lKcMMYc5Sq4lBqK6KoqpRjqAiksNRT5DDNn5hif6QdITgbncmK/oRz8YGcOXsWD+GcsryFtpp86iqVxHVEk9WfjU7rT4vahZ5zOQyZGhmoOktPq4GWOjmSguzjBJa64WqSsa/NC9eKw9TplCgKmrFPuMD2BBNlZRWCRQTpnVn0Xb1IZle2iEwwF1sM9Lb0cb6miwsdzXTVxCKpzAtClu/Iu2U7cax1J8jgSmthFCVltbim9OCf1UVHVQl1pRH4VfsQei4Sr2pPKspCuGwspL25V1zJIfo6jIKpGkmNPkgEUyqC7UpKvgeV+UH0FUYzWJaGyZDHhXItV8rTGCjRYCgOIbvIj+LiIPoNai5XpHCpTsvlhjyGa9K5WK7m/xZEDATfW6jtAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Google Authenticator\"\n        title=\"Google Authenticator\"\n        src=\"/static/d0486e89f3d54d2b90fdff50a64f3acb/e17e5/aws-iam-security-5.png\"\n        srcset=\"/static/d0486e89f3d54d2b90fdff50a64f3acb/772e8/aws-iam-security-5.png 200w,\n/static/d0486e89f3d54d2b90fdff50a64f3acb/e17e5/aws-iam-security-5.png 400w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Google Authenticator</figcaption>\n  </figure></p>\n<p>몇번 사용해본 적이 있어서 익숙한 Google Authenticator 어플로 OTP 인증을 받기로 했다. Google Authenticator 뿐만 아니라 <a href=\"https://aws.amazon.com/ko/iam/features/mfa/?audit=2019q1\">다른 앱들도 AWS에서 공식 지원</a>한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.99999999999997%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC7klEQVRIx+2W30tTYRjH338hIjC6yGkYlIE4TdTIXyv7gfjjQi9KKau5s525LZpOj0TkVTdR2IJugmi47jLdZj+sK4OcEpuQs1D8FYXLzWU5aW7n2/ueY3qR2hxehS98eJ6X5znf9z3jfB9Gss4IOF5xAzmnW1FYdRNJmTokKXXYS9mTwSG92IzS6nbknb2O7FMCrWuxW6nHPqUWhzMuQplVj8ITTThSeQ2ZdWaQNJWA1OJWKAotEvsLmpFc2CxFRkqRhdZbJFieXNCE7AITyvIuoDanRorqvBooimivygKioI3Z5a1IVckcrRCQVS5AUUIPoQclM4oYLWC9bF9TpMW5/Dqkq5qwq+wWKnPrkFtmwcFSAYQ1p51sQ0qJIMHyVHprRfHGHChpQ9WxetTmn0dpgQaa3GocomLJtEb0VwWodWY08DIsV/Nr+/W4xDejUWdCO6dGu0aNFi2Py/Q5rYG+8t07t9HrcsDl6JZx/pte2udw9uCp0yXxzOHAy+cu2B4/AunstGO71siID8Rms0mbaDSKWCyWEMvLy5KG1+tdExRFMWHYZdgaHh7+W3Criz3DbrkjuCO4I/ifCybCuoJsBCVKJBJZm4d2+/ZN7NHRURCr1YqhoSG43W6JwcHBLTMwMACPx4Ouri4Qo9EIjuO2BZ7nZUGTybQtMC1iMhpgYqKbEk+PDOGMJjToG6Ex0FenaAyGFeScYz+JUa6txk0g97greGgxw9qoQwfP4b6Bp+ikPcs7dBoZvVaO/OaQSJ8TfT3d+DE1AcwHERgfQ2hyAoufZxCcmgQmxoC+XmDuG/B9XupBaD1oLRgAWex/gwf2J5idmwMz3szsLPyhEIILC5gOBCB+/QK430m1eCB44aAq09Q3XplRH+Abof8rPtDog/i2H+LrVxCprUTqhA0ZZtEDEqVefE8/7KVwGDFqo0/0a58YH8dHGn/SW+LP6cyvcUAikV/w+/2rAyK8tIRFKh6mRFdMLw2BOO33G+fWcUJDGjBHAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Google Authenticator 항목 추가\"\n        title=\"Google Authenticator 항목 추가\"\n        src=\"/static/9da01b28c875bbe19b681ddb4d3171be/e17e5/aws-iam-security-6.png\"\n        srcset=\"/static/9da01b28c875bbe19b681ddb4d3171be/772e8/aws-iam-security-6.png 200w,\n/static/9da01b28c875bbe19b681ddb4d3171be/e17e5/aws-iam-security-6.png 400w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Google Authenticator 항목 추가</figcaption>\n  </figure></p>\n<p>+ 버튼을 누른후 출력된 다이얼로그에서 바코드 스캔을 선택하여 QR 코드를 찍어주면 AWS OTP가 OTP 목록에 추가된다.\n생성된 6자리 숫자를 MFA 코드 1 항목에 입력한 후 30초가 지난 후 바로 생성된 6자리 숫자를 MFA 코드 2 항목에 넣어준다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 550px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABAElEQVQoz5WPyU7DMBiE/dY8A09RtaghS7lxAC69ICVALpw4UZUGKbQpiuMtthNpsM1yYqulT/9Y+j3jIUm2wGQ6w+xkjqnDz/lpjCRdIE4yxGn2/fzUH/c0O0MURSCCCzxXFfbNHs12h7quQdsW1hhorWEOoHXviBgkOsXQ9QxMcRhrMAwDjLGOd9O/6HsddqWUII15xXr7hMd6hfVuA8ooGGNoKQ3Lh5xxHEG8kELCV1dSOS2CYdd1IdEn/4Z2DK6Vs3O1exBrLTjnkEoGA49SKuC1cAE/wd0nrJZ4qFocpRtc3b+AlGWJPM+/KIri3+SOu9sbXC6vcTy5QHq+xBt3wgArbhXhjwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"가상 MFA 할당 완료\"\n        title=\"가상 MFA 할당 완료\"\n        src=\"/static/05f248e4e9b0d6a7ad5d1b14cc83f530/dd45a/aws-iam-security-7.png\"\n        srcset=\"/static/05f248e4e9b0d6a7ad5d1b14cc83f530/772e8/aws-iam-security-7.png 200w,\n/static/05f248e4e9b0d6a7ad5d1b14cc83f530/e17e5/aws-iam-security-7.png 400w,\n/static/05f248e4e9b0d6a7ad5d1b14cc83f530/dd45a/aws-iam-security-7.png 550w\"\n        sizes=\"(max-width: 550px) 100vw, 550px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">가상 MFA 할당 완료</figcaption>\n  </figure></p>\n<p>MFA 코드 1, MFA 코드 2 항목을 다 넣고 MFA 활성화 버튼을 클릭하면 MFA 활성화가 완료된다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 96.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAACCElEQVQ4y62Uy27aUBCGj9SoXfaF+hZ9hirtok+RdlN1kT2IN2ilqBeJBcoKsUAJVBDA3O8Xg6GA8d389X8agtviXKqM9Mlzzpn5Z87YsrBtG7FYDMlkEul0GvF4HJlMBtlsFolEApVKBTTf97Hdbm+FJugMh0OsViuYpon1eg3DMDCfzzEYDKDr+o3gXaJSEI9oFBWs2m630Wg00Ol0UK1WZcfc45o+KZVKUBRFxqmqilqtJplMJmg2m+j3+/sOebVdImfGQAbV63UZWC6XpRCfhUIB3W5XijOGhemzuBTcdUiY3Gq1pNBOkE8WYdHZbIbpdCo7JMvlEpqmSehLQc/zpAiTKNjr9TAej6UQO+EIWJ1795rhQ4d+51vmldlFsViUHY1Go8jk8H6Uye+Q86Mg50T+Tn4IIqqa3L+nSDhOuK6DVColO8zn81gsFnvB/zBhOj5GcwPqTxPTpQVt5WCuewHuNWE/Cg/a2sXG8iFmwUJdbGDaHix3CxYwbD9Y/ybKD+9ZQc7KCHSWLoTlbGEFYp7rww3wDuDecibxfDiBKJsRtushWTbwtWjg29UBiht8L+38iJjrOF5f9Gc6nr/N4clxDs/e5PA0BNfiVQ4vTi7x8vQHjl7/eb4nj6PjC5xfaRBrw8GHsxpOPil4/7n6D+8CPp4pOP1SOXh+Exfkd1T9cf+HtF8N2Ic06LxEOgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Root 사용자로 로그인 시도 시 뜨는 멀티 펙터 인증\"\n        title=\"Root 사용자로 로그인 시도 시 뜨는 멀티 펙터 인증\"\n        src=\"/static/2014d5d43f9bbe33003932c137010868/e17e5/aws-iam-security-8.png\"\n        srcset=\"/static/2014d5d43f9bbe33003932c137010868/772e8/aws-iam-security-8.png 200w,\n/static/2014d5d43f9bbe33003932c137010868/e17e5/aws-iam-security-8.png 400w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Root 사용자로 로그인 시도 시 뜨는 멀티 펙터 인증</figcaption>\n  </figure></p>\n<p>이제 Root 사용자로 로그인을 시도하면 MFA 코드 입력창이 추가로 뜬다. 이 코드 역시 Google Authenticator에서 생성된 6자리 숫자를 입력하면 된다.</p>\n<h2>개별 IAM 사용자 생성</h2>\n<p>WS에서는 Root 사용자는 무제한적인 액세스 권한이 있으니 <a href=\"https://docs.aws.amazon.com/ko_kr/general/latest/gr/aws_tasks-that-require-root.html\">Root 사용자로만 가능한 작업</a>을 할 때를 제외하고는 Root 사용자 보다는 IAM 사용자를 사용하기를 권장하고 있다.</p>\n<p>이 항목은 저번 시간에 다뤄봤으므로 패스하겠다. 자세한 설명이 필요하면 <a href=\"/2020-07-19-etc-aws-iam/\">AWS IAM 및 IAM 사용자 추가하기</a> 를 참고하기를 바란다.</p>\n<h2>그룹을 사용하여 권한 할당</h2>\n<p>IAM 그룹은 IAM 사용자들의 집합이다. 그룹에 정책을 연결할 수 있기 때문에 그룹을 활용하면 다수의 사용자들에 대한 권한을 지정함으로써 해당 사용자들에 대한 권한을 더 쉽게 관리할 수 있다. 여기서 정책이란 자격 증명(사용자, 사용자 그룹 또는 역할) 또는 리소스와 연결될 때 해당 권한을 정의하는 개체이다. 권한을 미리 정책으로 정의해두고 이 정책들을 부여하여 권한을 준다고 생각하면 될 것 같다. 대부분의 정책은 AWS에 JSON 문서로 저장된다.</p>\n<p>특정 권한을 가진 그룹을 생성한 후 IAM 사용자들을 그룹에 포함시키면 그 그룹에 속하는 모든 사용자들에게 권한이 자동으로 부여된다.</p>\n<p>그룹은 IAM 사용자를 생성하면서 같이 생성할 수도 있고 IAM 메뉴에서 그룹 생성을 선택하여 그룹을 생성할 수도 있다. IAM 사용자를 생성하면서 그룹 생성하는 것은 해봤으니 이번에는 그룹 메뉴에서 그룹 생성을 해보자.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAvUlEQVQY052MawuCQBBF/f+/LHqB9KB020131zZdFSlK3PLmCIp9Cho4zJ3hcjxmOPxoi4ifwRhDGDJwzhEEAaSUKMsSeZ6jKIov6DdAt1Kqz56wMTb6gEQlnSCC6iRaawgh+hKVrbUjU8kgpp2mKaqqgve8P5BK3QuFNDjFF2Q2HwVUNMYgy7KRQTxk2iSt67oTaoloOcdp7eO6O6B6OLhXi3/HqxONeLVAOJ/hdtwD7RvOOTRN85NpjzLxAbJ/epxtDE06AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"보안 상태 항목\"\n        title=\"보안 상태 항목\"\n        src=\"/static/9506a82cc086fab0754f033476d66b1d/0a47e/aws-iam-security-9.png\"\n        srcset=\"/static/9506a82cc086fab0754f033476d66b1d/772e8/aws-iam-security-9.png 200w,\n/static/9506a82cc086fab0754f033476d66b1d/e17e5/aws-iam-security-9.png 400w,\n/static/9506a82cc086fab0754f033476d66b1d/0a47e/aws-iam-security-9.png 600w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">보안 상태 항목</figcaption>\n  </figure></p>\n<p>보안상태 항목에서 그룹을 사용하여 권한 할당을 선택한 뒤 그룹 관리 버튼을 클릭하여 그룹 메뉴로 이동한다. IAM 대시보드 창에서 그룹을 선택하여 그룹 메뉴로 아동할 수도 있다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 21.999999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAv0lEQVQY03WPTQ7CIBCFe2/3XkEX7ryJeglNmtQWKf0DSuhv2j6ZSepOki8PHjNvIDpfHzicbjhe7ng/X5B5jnmesW0b1nVl/QetZVnQNA3quoYxBlGtShC60vDOwXuPcRw5dJom9H2PrutYh2Hg/Q55hAt9QggURYHItC1ypfD5CFRVxZNI0zRFHl5LRQSd4zj+eSr0JEmCLMu4XkrJGlnXBVNwMT3ZWstQg9YabRhI0CAKorvd2wMprCxL/t0XY90tAnK9NlsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"그룹 목록\"\n        title=\"그룹 목록\"\n        src=\"/static/3875a38176e7ff4586fabd43f8337813/5a190/aws-iam-security-10.png\"\n        srcset=\"/static/3875a38176e7ff4586fabd43f8337813/772e8/aws-iam-security-10.png 200w,\n/static/3875a38176e7ff4586fabd43f8337813/e17e5/aws-iam-security-10.png 400w,\n/static/3875a38176e7ff4586fabd43f8337813/5a190/aws-iam-security-10.png 800w,\n/static/3875a38176e7ff4586fabd43f8337813/c1b63/aws-iam-security-10.png 1200w,\n/static/3875a38176e7ff4586fabd43f8337813/29007/aws-iam-security-10.png 1600w,\n/static/3875a38176e7ff4586fabd43f8337813/8454b/aws-iam-security-10.png 1798w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">그룹 목록</figcaption>\n  </figure></p>\n<p>새로운 그룹 생성 버튼을 클릭하여 그룹 생성화면으로 이동한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAjUlEQVQoz9WTQQrDIBREvf8NepheJtKCmNZFJRj9+pq/SDctlFg3HRgQxeF9HI1zDmst3ntEhDVncinUWmmtHbZJKRFj5B4CFzczXR0+PMhSgY5A9Nq2UCINLxudKB19Mnvyu3SffsJP3s8OETJYfxDY07WvjzJCGia1jSN8jayF/sX6CbSz9rZwOk88ATxXt6GYXuowAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"그룹 이름 설정\"\n        title=\"그룹 이름 설정\"\n        src=\"/static/093992cb4a8097d2284ec4588f6f316e/5a190/aws-iam-security-11.png\"\n        srcset=\"/static/093992cb4a8097d2284ec4588f6f316e/772e8/aws-iam-security-11.png 200w,\n/static/093992cb4a8097d2284ec4588f6f316e/e17e5/aws-iam-security-11.png 400w,\n/static/093992cb4a8097d2284ec4588f6f316e/5a190/aws-iam-security-11.png 800w,\n/static/093992cb4a8097d2284ec4588f6f316e/c1b63/aws-iam-security-11.png 1200w,\n/static/093992cb4a8097d2284ec4588f6f316e/29007/aws-iam-security-11.png 1600w,\n/static/093992cb4a8097d2284ec4588f6f316e/809bc/aws-iam-security-11.png 2612w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">그룹 이름 설정</figcaption>\n  </figure></p>\n<p>그룹 이름을 입력한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABaklEQVQoz42T63KDIBCFef8n6MP0UfojMaMIXqKCipFks2cbMqZNnTKzA3I5++0Bldaa+r6jy+VCy7JQCEH6eZ5l7na7/StSU+M4kvMjTdMk4b1/9liD6LquLxFjlMDadgwIpcuSjrmmLMuobVvquo7O57P0+K7r+iWappG9eZ7L+HQ6EaosWedwOJAanKe5t1QaS9ZaIUMmUKJ/F845oYc9SIpzCMypZZkpjpbqpiXDWSCEtufX9Xp9+gYAiFZVJQlUmCdaXcmEFRVFLpngCRoOvgv4lUT7vhcrygeMCoEJ/beg1gWLFmSMkcxbmu04CaJBEHQ4I5cCwdXzhK3EXARKAP4eIarYEkLwQRgoTi0vOLldBOb2SsbTSbS4CIjiHN7vg9AwYU2ay4WHyAjRVOaeh8MwPAn9OCVBvvaqYWO1+IFMf9H9LBnvFWJ1ZflpMGGMvCnyH8Ab0p+wJ/arfD7nmOwrM/TxeaQ73D+iFO979YcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"그룹 정책 연결\"\n        title=\"그룹 정책 연결\"\n        src=\"/static/d5393a0ad2b29f634945da7287a73864/5a190/aws-iam-security-12.png\"\n        srcset=\"/static/d5393a0ad2b29f634945da7287a73864/772e8/aws-iam-security-12.png 200w,\n/static/d5393a0ad2b29f634945da7287a73864/e17e5/aws-iam-security-12.png 400w,\n/static/d5393a0ad2b29f634945da7287a73864/5a190/aws-iam-security-12.png 800w,\n/static/d5393a0ad2b29f634945da7287a73864/c1b63/aws-iam-security-12.png 1200w,\n/static/d5393a0ad2b29f634945da7287a73864/29007/aws-iam-security-12.png 1600w,\n/static/d5393a0ad2b29f634945da7287a73864/809bc/aws-iam-security-12.png 2612w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">그룹 정책 연결</figcaption>\n  </figure></p>\n<p>그룹 정책을 선택한다. 예시를 들려고 AdministratorAccess 정책을 선택했는데 요 정책은 AWS의 모든 서비스 및 리소스에 대한 엑세스 및 권한을 허용하기 때문에 왠만하면 요 정책보다는 최소한의 정책을 설정하자.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAnUlEQVQoz9WTSQ7DIBAE+f8P8pg8JZcoF8iZZYal48HBsiNsyQmXtFSItWmkQWmtQUQLzIycM0SllNMo7z2ccxBjY0wlhIAYY6VtnBoETnAUDy9TeEuSiZGYC9baOm6HRSnPpnUOfaklwY7a2nrP3N9JuD7Q49O0198kxGD9geE3tXZYhyNSNTMpqyEJN0+Wb/YLacIT4/Z44nK94wVuR7dqFoX5YwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"생성할 그룹 검토\"\n        title=\"생성할 그룹 검토\"\n        src=\"/static/f41d1196d0a37843b5209c5875c4272b/5a190/aws-iam-security-13.png\"\n        srcset=\"/static/f41d1196d0a37843b5209c5875c4272b/772e8/aws-iam-security-13.png 200w,\n/static/f41d1196d0a37843b5209c5875c4272b/e17e5/aws-iam-security-13.png 400w,\n/static/f41d1196d0a37843b5209c5875c4272b/5a190/aws-iam-security-13.png 800w,\n/static/f41d1196d0a37843b5209c5875c4272b/c1b63/aws-iam-security-13.png 1200w,\n/static/f41d1196d0a37843b5209c5875c4272b/29007/aws-iam-security-13.png 1600w,\n/static/f41d1196d0a37843b5209c5875c4272b/809bc/aws-iam-security-13.png 2612w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">생성할 그룹 검토</figcaption>\n  </figure></p>\n<p>검토화면에서 그룹 이름이랑 정책을 한번 더 확인하고 그룹 생성 버튼을 누르면 새로운 그룹이 생성된다.</p>\n<h2>IAM 비밀번호 정책 적용</h2>\n<p>IAM 비밀번호 정책은 IAM 사용자들이 비밀번호를 설정할 때 비밀번호 규칙을 정하는 것이다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAvUlEQVQY05WNbUvDMBRG8/9/mILIROqUtU2oJnV5aUORTrbZ9pgU+lFkFw7nfrj3ecRXDLjmjVoq6rpK1JRVtiSEQIzxX/q+xxjDMAyIMVqCfKK1HtMatNG0ySZ5C8wPXdet/gvvPeM4Ik6nb1QlacoDLrXo95ZSag5KY51fA51zWGvXgi047xs5LN9N04S4eot6fKC4v6Pa7VDPBUPzwfm6cOssy4L46Tvc6x79UvCZfNwXXI5mPZjn+WZ+AbcMegodSTyAAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"보안 상태 항목\"\n        title=\"보안 상태 항목\"\n        src=\"/static/0b9e79855d29843b602443b35abf5f75/0a47e/aws-iam-security-14.png\"\n        srcset=\"/static/0b9e79855d29843b602443b35abf5f75/772e8/aws-iam-security-14.png 200w,\n/static/0b9e79855d29843b602443b35abf5f75/e17e5/aws-iam-security-14.png 400w,\n/static/0b9e79855d29843b602443b35abf5f75/0a47e/aws-iam-security-14.png 600w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">보안 상태 항목</figcaption>\n  </figure></p>\n<p>보안 상태 항목에서 IAM 비밀번호 정책 적용을 선택한 후 비밀번호 정책 관리 버튼을 클릭하여 비밀번호 정책 화면으로 이동한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.999999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAyUlEQVQY06WPbQvCMAyE+/9/mqBMcCJzKmwKe+varl07N9nZBPwqgoWHC2lzvYiiKJBlGcqyZP49QkqJvu/RdR3atuW6rmsYY6C15j5RVRXrp6eUim8lBuvQ6YBWeUgTIOqmQROx1iKEgGma4JzDPM9cU48YhgHjODJ0771nDdMTLiywfmYVxzTFJc+hYjIfBykZPaQkpGRErOv628r39IBin6CMmNsVOhqSKa1ERmRMLMvCA2T8DXFOEpw2G+S7LV6P+9fff0n5BtEZz48PHpASAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"비밀번호 정책\"\n        title=\"비밀번호 정책\"\n        src=\"/static/7fa8cbc2f0292e924c208436bb4edcd3/0b533/aws-iam-security-15.png\"\n        srcset=\"/static/7fa8cbc2f0292e924c208436bb4edcd3/772e8/aws-iam-security-15.png 200w,\n/static/7fa8cbc2f0292e924c208436bb4edcd3/e17e5/aws-iam-security-15.png 400w,\n/static/7fa8cbc2f0292e924c208436bb4edcd3/0b533/aws-iam-security-15.png 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">비밀번호 정책</figcaption>\n  </figure></p>\n<p>암호 정책 설정 버튼을 클릭하여 암호 정책 설정 화면으로 이동한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 94%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAABY0lEQVQ4y62U+07CMBjF9/TGf3wXExNfRpPdBAe7td1WNno59ispgoAwsclJ211+O9+li4TgaNvWq65rTNOEOcNae7SPqoahWJdomgaNAxI0fIBzDsaYn+l+uM6YmxnHMOk9NICjohZYrFtspMQwDJBuVkphu936OYj2R3LXtLGnwLoqsfjIsVwuvQh6V8j0dSEEuq6D1vrk4Wv6fm4P1BjHcR8KrakwBD/34rURNXzwoSZJgjiOkWUZ0jT1hfgttItA3m9QliWKovCVJHfkkooT1iEVNzms2s65Sr07agnKJeU0rEmhN28CUt6o96jfyM2t1bwIlJvJO+r73kPJ2aGj2UWhkD/yHLnTarXympOzE2AvR1TV7uiR03tgHmit8SESgApAjf7zOM0Cnkv6nJydcWhxj8yBaB/hj8P+t0P6Gyht8MkVFmynQihExhjMFQHlpJBVEo8vMR6e353e8PSa4AtRvdSCazbTRQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"암호 정책 설정\"\n        title=\"암호 정책 설정\"\n        src=\"/static/ac7caf8abb819a7f4e604690205283e4/5a190/aws-iam-security-16.png\"\n        srcset=\"/static/ac7caf8abb819a7f4e604690205283e4/772e8/aws-iam-security-16.png 200w,\n/static/ac7caf8abb819a7f4e604690205283e4/e17e5/aws-iam-security-16.png 400w,\n/static/ac7caf8abb819a7f4e604690205283e4/5a190/aws-iam-security-16.png 800w,\n/static/ac7caf8abb819a7f4e604690205283e4/c1b63/aws-iam-security-16.png 1200w,\n/static/ac7caf8abb819a7f4e604690205283e4/0ef7e/aws-iam-security-16.png 1594w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">암호 정책 설정</figcaption>\n  </figure></p>\n<p>암호 정책 요구사항 항목에서 원하는 항목들을 선택한다. 추후에 IAM 사용자들이 암호를 설정하거나 변경할 때 여기에서 선택한 항목들이 규칙이 된다.</p>\n<h2>마무리</h2>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABEUlEQVQoz42R7WqDMBSGvf+rGbuNde1GYTTGaNv5kUST1C+m/dF35owUNrpS4eGAB5+8b4xkKTEMAx59LpefuVUjnnYWz7HDTg9wpsHXNCFiJYeqFKqqgtYaSimM44i+72/SLQwLtWuR1w6lOaHSDeq6xjzPiFbpBp/7I1jMkKYpkiRBnuckN8agaZqb2GV3sgats9BLCLkw+YSv2RuKYwGecBJyzhHHMQmttST18y/+fdj5VioIX9I1DmKPeBFlWUYJfQLn3PWje3ihlJKgyu+HLVVORAIhxFXq7+RewrDzB/8SrsQaKRdgjFFdT0j5CF4ahFT5o2DQUqMoCvrTZVnSfXRdh7Ztaf5H2IfE5/MZ32vOWIwMr7psAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"AWS IAM 보안 설정 완료\"\n        title=\"AWS IAM 보안 설정 완료\"\n        src=\"/static/81a1309a3e66d0996c439e6ff7340146/0a47e/aws-iam-security-17.png\"\n        srcset=\"/static/81a1309a3e66d0996c439e6ff7340146/772e8/aws-iam-security-17.png 200w,\n/static/81a1309a3e66d0996c439e6ff7340146/e17e5/aws-iam-security-17.png 400w,\n/static/81a1309a3e66d0996c439e6ff7340146/0a47e/aws-iam-security-17.png 600w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">AWS IAM 보안 설정 완료</figcaption>\n  </figure></p>\n<p>이렇게 위의 항목들을 다 설정하고 난 후 다시 보안 상태를 보면 모든 항목에 체크가 되어 있는 것을 확인할 수 있다. 프로덕션 배포 목적이 아니라 테스트나 공부 목적으로 AWS를 사용한다고 해도 계정이 해킹당해 요금 폭탄을 맞았다는 사례가 많으니 AWS가 권장하는 대로 보안을 튼튼히 하여 안전하게 AWS를 사용하자.</p>\n<h2>Reference</h2>\n<blockquote>\n<ul>\n<li><a href=\"https://docs.aws.amazon.com/ko_kr/general/latest/gr/aws-access-keys-best-practices.html\">AWS 액세스 키 관리를 위한 모범 사례</a></li>\n<li><a href=\"https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/id_credentials_mfa.html\">AWS에서 멀티 팩터 인증(MFA) 사용하기</a></li>\n<li><a href=\"https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/access_policies_create.html\">IAM 정책 만들기</a></li>\n<li><a href=\"https://www.44bits.io/ko/post/first_actions_for_setting_secure_account#%EB%A3%A8%ED%8A%B8-%EC%82%AC%EC%9A%A9%EC%9E%90%EC%9D%98-%EC%95%A1%EC%84%B8%EC%8A%A4-%ED%82%A4-%EC%82%AD%EC%A0%9C\">아마존 웹 서비스 계정 생성 후 해야하는 IAM 보안 조치</a></li>\n</ul>\n</blockquote>","frontmatter":{"title":"AWS IAM 보안","date":"2020년 07월 25일"},"fields":{"slug":"/2020-07-25-etc-aws-iam-security/"}}},"pageContext":{"slug":"/2020-07-25-etc-aws-iam-security/"}},"staticQueryHashes":["1447968848"]}