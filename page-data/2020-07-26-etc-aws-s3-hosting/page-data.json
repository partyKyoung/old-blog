{"componentChunkName":"component---src-templates-blog-template-tsx","path":"/2020-07-26-etc-aws-s3-hosting/","result":{"data":{"site":{"siteMetadata":{"title":"Kyoungah's dev blog.","author":"Kyoungah"}},"markdownRemark":{"id":"d8f2deb7-330f-5656-b017-a18594307d2c","excerpt":"AWS S3 AWS S3(Simple Storage Service)는 인터넷상 어디서나 원하는 양의 데이터를 저장하고 검색할 수 있도록 구축된 객체 스토리지 서비스이다. 확장성과 가용성이 뛰어나며 모든 S…","html":"<h2>AWS S3</h2>\n<p><a href=\"https://aws.amazon.com/ko/s3/\">AWS S3(Simple Storage Service)</a>는 인터넷상 어디서나 원하는 양의 데이터를 저장하고 검색할 수 있도록 구축된 객체 스토리지 서비스이다. 확장성과 가용성이 뛰어나며 모든 S3 객체의 복사본을 자동으로 생성하고 저장하기 때문에 높은 내구성을 보장한다. 사용한 스토리지 만큼 요금이 청구된다.</p>\n<h3>객체</h3>\n<ul>\n<li>S3에 저장되는 기본 개체.</li>\n<li>S3에 저장된 데이터 하나하나를 객체라고 명명한다.</li>\n<li>\n<p>데이터와 키, 메타데이터로 구성된다.</p>\n<ul>\n<li>키는 객체에 지정한 이름이다. 버킷 내 객체를 고유하게 식별하며 키를 사용하여 객체를 검색한다.</li>\n<li>메타데이터는 객체를 설명하는 이름-값 페어의 집합이다.</li>\n</ul>\n</li>\n</ul>\n<h3>버킷</h3>\n<ul>\n<li>\n<p>S3에 저장된 객체에 대한 컨테이너.</p>\n<ul>\n<li>객체가 파일이라면 버킷은 연관된 객체들을 그룹핑한 최상위 디렉토리라고 할 수 있다.</li>\n</ul>\n</li>\n<li>모든 객체는 버킷에 포함된다.</li>\n<li>S3에 데이터를 업로드하려면 우선 하나의 AWS 리전에 S3 버킷을 만들어야 한다.</li>\n<li>버킷에 포함된 모든 객체에 대해서 일괄적으로 인증과 접속 제한을 걸 수 있다.</li>\n</ul>\n<h2>AWS S3로 정적 웹사이트 호스팅 하기</h2>\n<p>S3는 단순히 데이터 저장 뿐만 아니라 여러가지 부가 기능을 제공한다. 그 중 하나가 정적 웹사이트 호스팅이다.</p>\n<p>S3에 버킷을 생성한 후 해당 버킷을 웹 사이트 호스팅용로 구성한 후 HTML, css, JavaScript 파일 같은 웹 사이트 콘텐츠를 버킷에 업로드하면 S3로 정적 웹 사이트를 호스팅할 수 있다.</p>\n<p>토이 프로젝트로 작업하고 있는 React 프로젝트가 있는데 이것을 S3에 한번 태워보자.</p>\n<h3>IAM 권한 추가</h3>\n<p>React 프로젝트를 빌드 한후 s3에 접속하여 웹 호스팅용 버킷에 직접 웹 사이트 콘텐츠들을 직접 업로드 해도 되지만 AWS CLI를 사용하여 스크립트 만으로 간단하게 빌드 및 배포를 완료할 수 있다.</p>\n<p>AWS CLI로 작업을 하기 위해선 AWS CLI에 액세스 할 수 있도록 IAM 권한이 필요하다. 그래서 IAM 권한 설정을 먼저 해주기로 했다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABUklEQVQoz1VRi5KEIAzb///JPVddV3ygAoqi5tq6cF5nOtUY0hgeutUweoTpx2tSWz3BDlcbPSXsH4e+TarF6RwGv6DWPfZ9x0OVBfrqDdMqON3B9R2mRmFUNc0atmsF47kMfeI4EnDqg7GuMG8bjuPAeZ54fMoSx7aC5KkDwuphJ3IxDpi0RvBevldFDjdN9LzhDEFmkWXIfp7wxOESwXdVwVqHEHYcBAQStvQbPGMx8VPX0MOQ8JPaEc9aS2fDn2BRFKhE1MqmZfFykNvNs5C4maPJcax5WYQzjKMYSYLGGNkUa11XGBK/b+Z88tcLJcUz05KE5TmapkliIui+hPO7hd/bji6GFkWMD/tb8Bd2ivgeI/jij0YpcRKBfT8QYziOizyT27F8yRJ2z1xPf9JTBMvtQsQh275nwy5qugCOImG0sMmeiPEwh6tt2xRXNPQLK/O5lZA9bi0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"AWS 서비스 메뉴\"\n        title=\"AWS 서비스 메뉴\"\n        src=\"/static/1eae29deeb2589d085814aeee7485816/5a190/aws-iam-1.png\"\n        srcset=\"/static/1eae29deeb2589d085814aeee7485816/772e8/aws-iam-1.png 200w,\n/static/1eae29deeb2589d085814aeee7485816/e17e5/aws-iam-1.png 400w,\n/static/1eae29deeb2589d085814aeee7485816/5a190/aws-iam-1.png 800w,\n/static/1eae29deeb2589d085814aeee7485816/c1b63/aws-iam-1.png 1200w,\n/static/1eae29deeb2589d085814aeee7485816/29007/aws-iam-1.png 1600w,\n/static/1eae29deeb2589d085814aeee7485816/a5262/aws-iam-1.png 2388w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">AWS 서비스 메뉴</figcaption>\n  </figure></p>\n<p>먼저 AWS 서비스 검색창에서 IAM을 검색하거나 서비스 메뉴에서 IAM 항목을 찾아 클릭하여 IAM 대시보드 창으로 이동한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAAA50lEQVQY011Qy27EIAzk/7+j1/5Btff2tvc8lCak6bbAQoBsQmCKabR9WBrZDPYMhvV9j7qqIKQEkHB6OuPx4QT58oxFKcSUsIeAbdsQfuXwjxNCYBxHsNl7uGVByoMUWkm8tjU4HzN4aSQMZFzXZahtW3Rdh2EY7lzTNIVnc1th/bzgOxJ8FucXBW0s3oXGbB28d7DWZmGZaw+Zt6GzMQYqb0HcNE2FZ+6NY72qQy8h7Ds+zAp3C5j9iuPhiGGDM9dS37IpBa1KoCAxMmA2XyqtD71UQP8WYywG6Y6ImM3SH+4H1E/5Cwt9f9KxIBQtAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"IAM 대시보드\"\n        title=\"IAM 대시보드\"\n        src=\"/static/a949b1f9c0362ad2751554c4509aa328/5a190/aws-s3-hosting-1.png\"\n        srcset=\"/static/a949b1f9c0362ad2751554c4509aa328/772e8/aws-s3-hosting-1.png 200w,\n/static/a949b1f9c0362ad2751554c4509aa328/e17e5/aws-s3-hosting-1.png 400w,\n/static/a949b1f9c0362ad2751554c4509aa328/5a190/aws-s3-hosting-1.png 800w,\n/static/a949b1f9c0362ad2751554c4509aa328/c1b63/aws-s3-hosting-1.png 1200w,\n/static/a949b1f9c0362ad2751554c4509aa328/6c2de/aws-s3-hosting-1.png 1334w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">IAM 대시보드</figcaption>\n  </figure></p>\n<p>IAM 대시보드 메뉴에서 사용자 항목을 클릭한 후 사용자 추가 버튼을 클릭한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAABT0lEQVQ4y61Sy07DMBD073PjUzgh/oETn0BQqqS1GztuXnacwePiKAptxYGVRuv4MTs7WWGMgbUWOZZluYt0/nPv5b2CNAOW4OGcg/ce0zRBaK0TIYl58Ci25M3Fwfk5EgaEDURZljgcDiiKAlKqRM4iLGCMRhu/lZ1gOpeI8sN73QgectH3PY7HI0xrUafcpjYIKvE7NdmCfYhtO2GeoS8TStVBtSM3H3p6i1K0UQlBhX+PJeFmy1VVJQ8z2O7pdEprnrFY0zRXRG+1bmAuPaR1GH1IxCFsCHPNcRyh46OuHxIZf1Zd18gdKKVwPp9TTohrKSWGYVgtWz3cGkzjeZGgKmYScMY4VixMkmHoU86jtircezBHQipju8xsn8qosuu6dWa5x4LZ+18t/1eIeyMRdjP3CGG5/hhCcHD3BH8F3/k4ux+FxfPbJ55ev/ANfUf4K3jfjDMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"IAM 사용자 추가\"\n        title=\"IAM 사용자 추가\"\n        src=\"/static/8ca8f067c513756e7ec4dd1af59bf788/5a190/aws-s3-hosting-2.png\"\n        srcset=\"/static/8ca8f067c513756e7ec4dd1af59bf788/772e8/aws-s3-hosting-2.png 200w,\n/static/8ca8f067c513756e7ec4dd1af59bf788/e17e5/aws-s3-hosting-2.png 400w,\n/static/8ca8f067c513756e7ec4dd1af59bf788/5a190/aws-s3-hosting-2.png 800w,\n/static/8ca8f067c513756e7ec4dd1af59bf788/339e3/aws-s3-hosting-2.png 977w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">IAM 사용자 추가</figcaption>\n  </figure></p>\n<p>사용자 이름을 입력한 후 액세스 유형으로 프로그래밍 방식 액세스를 선택한다. 액세스키만 필요하기 때문에 프로그래밍 방식 액세스를 선택하면 된다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAAB5ElEQVQ4y5VT247TMBD19/PAt/CyEt+AgMdqu9vQNpfm4sS524lj5zB2tktbEAJLR2cynnFmPMesbVt0XYd1XeGW41vgje2Nz3q/xdP3HJmQZBvoZYHWGqxpGm9cD/v3tUL0M2ZtKM/C2g0sTVP0fY95nmGMgVIKUsp3XvSEWCi8ZCPSWiKhirJWY5jMbx35A5MkwTAMGMfRB5RliSzLvK+m6s0s8eVHh0/fChyyFruoQVBqiNHcdXVllufZu8NV6P5yf48Wi7GYzYppcQCUtjD2/npcriuE7Y8JqqpER22rafKt3sJVLqqKYioIUflY9331OXBeIggCHI8nsPM5xG63Q5peUPICvMhR5A6Z55z+miSxh0uK48jHBocD9vtnpJcLkjhGHEWeWVtzMkK8XDq8JjWOdE+iG9GPCt1AIHb2IGekOccpjMkvUdYt6rYn/+T3e8cEJpoWSVZgl814TiXOYkatVrTTLzSegaTsEMQFhDTg3USDWfxeoyxh9WBG1hA8xYkrRHxAyEfkjULlEvoJJXFN7IbVNLVv15CIFUnK6XfTIGnRDdPJZtMPTdgLc7P1QlNdtunqN7YPL+gRPpeY/WnTvYJH/O2w28WuT+Z/sGnWolMLZN/g6yvHx88hPjyF+AkfVezs4tVXmgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"IAM 사용자 권한 설정\"\n        title=\"IAM 사용자 권한 설정\"\n        src=\"/static/71b47f33d1c608b8ae09c39e2499e136/5a190/aws-s3-hosting-3.png\"\n        srcset=\"/static/71b47f33d1c608b8ae09c39e2499e136/772e8/aws-s3-hosting-3.png 200w,\n/static/71b47f33d1c608b8ae09c39e2499e136/e17e5/aws-s3-hosting-3.png 400w,\n/static/71b47f33d1c608b8ae09c39e2499e136/5a190/aws-s3-hosting-3.png 800w,\n/static/71b47f33d1c608b8ae09c39e2499e136/339e3/aws-s3-hosting-3.png 977w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">IAM 사용자 권한 설정</figcaption>\n  </figure></p>\n<p>기존 정책 직접 연결 항목을 선택한 후 S3를 검색하여 AmazonS3FullAccess 권한을 선택해준다. AmazonS3FullAccess 권한은 S3에 관한 모든 사용권한을 부여한다.</p>\n<p>권한 설정이 완료 되었으면 다음 버튼을 눌러준다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAABEElEQVQ4y61Sy26EMAzM/x+q/k3bX+il917Ko4t4JiFA0BLCNPaKCm21Kks70sgOie2xjWjbFn3fg7Asy25OzoUIj6e3AnEZ4pcZ0zRBULKu65hHoAeHs/PfgkSapoiiCHEco2kaKKUgZaDuoFoDYy6kTuiOCq9nYzqMdoAJ/ipKFHmBsixR1zXy4GenE5L0E0kuUSvD49h2sT2zZb/nIlRQSCm5mtaabVVVQfEH6qoM3xSrpje3uN5TXJZlEJRkHEdYa3moNAeCD9Z7v5sreCnDMHALjjcHfnDPxrcU11tbFR6FuK5w7//4Q+Ffgne1fATU2L8qDOluz/A3en+x8+xhrIPtNF7fKzw8J3h8SfEFMNb508GmreEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"IAM 사용자 태그 추가\"\n        title=\"IAM 사용자 태그 추가\"\n        src=\"/static/e6966e88da82c70510cf72efa43a719a/5a190/aws-s3-hosting-4.png\"\n        srcset=\"/static/e6966e88da82c70510cf72efa43a719a/772e8/aws-s3-hosting-4.png 200w,\n/static/e6966e88da82c70510cf72efa43a719a/e17e5/aws-s3-hosting-4.png 400w,\n/static/e6966e88da82c70510cf72efa43a719a/5a190/aws-s3-hosting-4.png 800w,\n/static/e6966e88da82c70510cf72efa43a719a/339e3/aws-s3-hosting-4.png 977w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">IAM 사용자 태그 추가</figcaption>\n  </figure></p>\n<p>태그 추가는 필수가 아니므로 그냥 넘어가도 된다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAABJUlEQVQ4y52TyWrEMBBE+/9PgfxD/iG5BuaeU66JxuBV3uLdlisqGZthMoHRGB7dQla7utSWoihQ1zXWdfViWRaM0wzA4P1T4+OrdLlw0/fhGWOMA6tB1U5o+pkbkCzLnMKqqkC1jHtelqXLL2Pf93/UXn5Ioihyh+d5Rtu2GIYBXde5yLYI93a4vi64qd1y4YIJFbB40zRI09StWWAcRxevW/4P2V+gSqWUaz+OY0cYhsjz/Ch4j9/CNm+Zfsufe5AkSZBbdXmukWUpatsqbdj980WCIIC2N63UGd/nAGGcIrEe8vYfQTgKxixougFp2SGx/Nicvk3T5I3s7T0y4Lf8Fd6q1voY2P0P8MGWPBDff5gDzIP9uNlE/19OEZ7fFJ5eA/wCrOz4A+VZmRsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"IAM 사용자 추가 검토\"\n        title=\"IAM 사용자 추가 검토\"\n        src=\"/static/f249db85827c88a81c2e2d997a72236e/5a190/aws-s3-hosting-5.png\"\n        srcset=\"/static/f249db85827c88a81c2e2d997a72236e/772e8/aws-s3-hosting-5.png 200w,\n/static/f249db85827c88a81c2e2d997a72236e/e17e5/aws-s3-hosting-5.png 400w,\n/static/f249db85827c88a81c2e2d997a72236e/5a190/aws-s3-hosting-5.png 800w,\n/static/f249db85827c88a81c2e2d997a72236e/339e3/aws-s3-hosting-5.png 977w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">IAM 사용자 추가 검토</figcaption>\n  </figure></p>\n<p>마지막으로 제대로 이름을 입력하고 권한을 부여했는지 한번 더 검토한 후 사용자 버튼을 클릭한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAABWklEQVQ4y62SWW7DIBCGuf9BepEeoi+RY7xivGACuPICf8ekidIqrZQ2M/o0zMKABpgeNczJAAEP4TePbd0wzwsFPN4Kg5fXEmxaHGY/Yw0rooYbvvs3sSUsWPzyuXfB4CYkUoNlioNLjkY1qLoq2gu7L8mKoSZfQI4N6r66+k3MCQiyoxvoqHcwZRWSPAGveCSrM+QiR1qmOBK8qZARaV1Ge6woJ0okBcexOMY9UkmY2WLaqKHbHLpTh1a36E0f153paL3bAdJZtJONVjqDNvoO0upzDdXrd43JT3CrBcvpxEEPcdKBhhu+6O5vV/bh4yZ2EU+6hQ27srIowVOOcRyhlLrDeKWua0LEWq01GtEgz3P0fR9jI9Uw0dWxoRACxpgfsdYiyzIcDofYpCgKdG2LrKig6OtZe65jeLKwEGhWD3KRe7mn3jA2/MsNf+PfDb338Xb7q++v/QECFPEYpJes3gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"IAM 사용자 추가 완료\"\n        title=\"IAM 사용자 추가 완료\"\n        src=\"/static/2a823c48df6d3e8eb51fe4f16a47ebe7/5a190/aws-s3-hosting-6.png\"\n        srcset=\"/static/2a823c48df6d3e8eb51fe4f16a47ebe7/772e8/aws-s3-hosting-6.png 200w,\n/static/2a823c48df6d3e8eb51fe4f16a47ebe7/e17e5/aws-s3-hosting-6.png 400w,\n/static/2a823c48df6d3e8eb51fe4f16a47ebe7/5a190/aws-s3-hosting-6.png 800w,\n/static/2a823c48df6d3e8eb51fe4f16a47ebe7/339e3/aws-s3-hosting-6.png 977w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">IAM 사용자 추가 완료</figcaption>\n  </figure></p>\n<p>IAM 사용자 추가가 완료 되었다. 액세스 키 ID와 비밀 액세스 키는 AWS CLI 설정 시 꼭 필요하기 때문에 csv 다운로드로 파일을 저장해놓거나 어딘가에 기록해놓자. 비밀 액세스 키는 절대로 외부에 노출되면 안된다.</p>\n<h3>AWS CLI 설정</h3>\n<p>이제 AWS CLI 설치 및 설정이 필요하다. AWS CLI는 <a href=\"https://docs.aws.amazon.com/ko_kr/cli/latest/userguide/install-cliv2.html\">AWS 설치메뉴얼 문서</a>에서 설치할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">aws configure --profile IAM 사용자 이름</code></pre></div>\n<p>설치가 완료 되면 해당 명령어를 터미널에 입력하여 CLI를 통하여 IAM 사용자를 추가 해준다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 12.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsSAAALEgHS3X78AAAAhklEQVQI141OzQrGIAzb+7/bLmPgFGVj/qGCl6HbZeajvQ++QmgaSJpJCAEpJbTW2LYNSil47xnneaLWivu+kVJi7pxDCAHXdSHGyHophfWcM6bjOLDvOwdSAG26yTDGwPM86L3jfV/8MxOZl2WBMQbrunLDeZ5hrWVOn6lZa40NFEyPvvADEnTiG5gt9/cAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"AWS CLI 설정\"\n        title=\"AWS CLI 설정\"\n        src=\"/static/0a5190dc14acd6167ace498c735032ab/432e7/aws-s3-hosting-7.png\"\n        srcset=\"/static/0a5190dc14acd6167ace498c735032ab/772e8/aws-s3-hosting-7.png 200w,\n/static/0a5190dc14acd6167ace498c735032ab/e17e5/aws-s3-hosting-7.png 400w,\n/static/0a5190dc14acd6167ace498c735032ab/432e7/aws-s3-hosting-7.png 570w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">AWS CLI 설정</figcaption>\n  </figure></p>\n<p>AWS Access Key ID와 AWS Secret Access Key는 IAM 사용자 생성 후 얻은 액세스 키 ID와 비밀 액세스 키를 입력하면 된다.</p>\n<p>Default region name에는 원하는 리전을 적어주면 된다. AP-NORTHEAST-2는 아시아-태평양 서울 리전이다.</p>\n<p>여기 까지 하면 IAM 권한 설정까지 완료 되었다.</p>\n<h3>AWS S3 버킷 생성</h3>\n<p>이제 웹 호스팅용 S3 버킷을 생성해야 한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAA7ElEQVQoz52SWW7DMAxEff8ztehf0R4iaLogUeRN1k7J8pRS2v/YBB4IiMCI5LDT2kAIgXmaUUr5Y8W6ZmZ9kIzCmYjQGWtx+jhDjhMWYzHzB8Z55LLtoLRMKaNTLuB7UNAhQXm6Ewg65ocxlDG5iNl6dD4SeqVhrUEIAZHbvse2EyClhC5SwkUOGMYRdfy6h23bdtMEc66C1MSuNwm1aPzHIcHWYYzohxFCSsh+gDY8Or9V9w4KEi7ihlEtzWXPe6yFej6HBOveriz4cxHo+XSq0NGRnWeXz59feHp+wevbO6xz7HRsBb+b0PIvREMOemwTkigAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"AWS 서비스 메뉴\"\n        title=\"AWS 서비스 메뉴\"\n        src=\"/static/f8981529036bc554318ec47db80f2b76/5a190/aws-s3-hosting-8.png\"\n        srcset=\"/static/f8981529036bc554318ec47db80f2b76/772e8/aws-s3-hosting-8.png 200w,\n/static/f8981529036bc554318ec47db80f2b76/e17e5/aws-s3-hosting-8.png 400w,\n/static/f8981529036bc554318ec47db80f2b76/5a190/aws-s3-hosting-8.png 800w,\n/static/f8981529036bc554318ec47db80f2b76/5205c/aws-s3-hosting-8.png 833w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">AWS 서비스 메뉴</figcaption>\n  </figure></p>\n<p>AWS 서비스 메뉴에서 S3를 검색하여 S3 메뉴로 이동한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 13.999999999999998%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsSAAALEgHS3X78AAAAaElEQVQI142OQQ6AMAgE+2/f5gN8hx49WNoaKG1XS/XmQZIJWQK7OPIerTWUUoxa6y9UFTlno2vRgj1luIMimMWGr+kfmBlEhBjjuH1w07xhWQlQQTpPsIilioyQ/v0Xb4UQbDfcxr1fzsHrB0VpqPUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"S3 버킷 만들기\"\n        title=\"S3 버킷 만들기\"\n        src=\"/static/180acfb770fb9c80189bb1910daae338/5a190/aws-s3-hosting-9.png\"\n        srcset=\"/static/180acfb770fb9c80189bb1910daae338/772e8/aws-s3-hosting-9.png 200w,\n/static/180acfb770fb9c80189bb1910daae338/e17e5/aws-s3-hosting-9.png 400w,\n/static/180acfb770fb9c80189bb1910daae338/5a190/aws-s3-hosting-9.png 800w,\n/static/180acfb770fb9c80189bb1910daae338/b5cea/aws-s3-hosting-9.png 1140w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">S3 버킷 만들기</figcaption>\n  </figure></p>\n<p>버킷 만들기 버튼을 클릭한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAAB2ElEQVQoz5WSzW8SURTF3x8nUJgyCAXKoJU2gbFFCsJgraVR+ehgLDBF/FoY+bJqYrVUsAM1jRsXJhIXEDUuXJq0LPsPHO8AEzddOIvfuyfnnfty38tjc5UOuCfH4CpHmCmpsEwxaxQn2lnpwfvoCFZFhan4L6Mzo3RhK/fA7XTBrh7/wdLnM3jVEeytEzgOJrg7p5g/HIEn7f0wgp/2teojT89oex7Kudqn417n+xOwQKEJf/ElPPkm+EwNjmwNPOHaqsNNaNpO/izhytXhkRtjT2eOMs7cNJeugnmXJVxaXcfFUBwmXxBmfwgmYcKFadU83de987BdWQHzxTZReLaL2rtDNPZVNA+6aLaM0WipeNX5CHHzHpgQTeHa7fuI3t1GPFuCJO8gsWWcZL4MH53FtCX/uIqH9dd4uruH+tsOanttQ1TftPGCphQ3ZLD51VsQ6NqLaxksJO7AISbBhyTwonHs1MeEWAr7vU/oD37gy7cB+sOfY90f/ieU/Tr4juGv35DyD8Dc4ZsIrueQlMuI5xR6w7Ih9L5YugCBfguLZhWEMwosizHM0shcMGEI69J1eCIbkErPwa0pYMspGYEbaZgvr8AWiMBqEMtCGE4xgXCahopk8BdEf2WuQWsrNgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"버킷 이름 및 지역 설정\"\n        title=\"버킷 이름 및 지역 설정\"\n        src=\"/static/8228a13276335df6eb26937bfe118439/5a190/aws-s3-hosting-10.png\"\n        srcset=\"/static/8228a13276335df6eb26937bfe118439/772e8/aws-s3-hosting-10.png 200w,\n/static/8228a13276335df6eb26937bfe118439/e17e5/aws-s3-hosting-10.png 400w,\n/static/8228a13276335df6eb26937bfe118439/5a190/aws-s3-hosting-10.png 800w,\n/static/8228a13276335df6eb26937bfe118439/0d6fe/aws-s3-hosting-10.png 1115w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">버킷 이름 및 지역 설정</figcaption>\n  </figure></p>\n<p>버킷 이름을 선택해준다. 리전은 기본으로 아시아 태평양(서울)로 되어있는데 원하면 바꿔도 된다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAACHElEQVQoz5WRW28SURSFz2/TynWAApE7BOVSZoaBUoZLAAtNJCQS21KsqWj1ARMTTay2VJBGk8bE+EOE4pv/YLnPMCghNtGHL+tk7bP3WdmHuboDCEefITy6gGlvNGd3CIOOkXB2P8LzeAwz1QwPh3RHR6uPYN4fwdoZQyBl0qfviFz+hGswg/XtBMLJVOP22QxezZvCfXqlnblyf3GH11zvr+B4N4WFeu0nE7BKfwi1fwGxd47k0eA3mWcfNDaecP8cCUJ++sdbkCZP6uke3WHRXA3JYgPhTBlBpYQQwc+BdAleuQS/XIBfmuMjvLqusqgzX7YGsd5GvNJCcKuOABHMN+DObsMqVWBNqLDEtmCJLxFbYsVjARroJzxKBY6NApypIkzxPG7eycEQlmGMZmBL5P8Z5stUIW0/gNJoo9A6gNrqIN/cQ67VRbp5gFj5PgRKsNoocCWf66LOlfko2fjLN0xmPzC8/Ip2r4/Oi1c4fn2K4zdnaB4+h+Xu5ryJD9Cx/eUR7jE/Jazv97RBgc17uBGSYYpmcSucxhphpmF8DXZahzVZ0NRGCLRbYfkBPbW2w4jagFepgn9QOF9HhD4lzKEPiqg7CNJDbqrb01VNnUoNDrEMR1LV9s6HmaMK7LEsmJcS+qmBD1unJNfhEotwi3OdU4JbKms1HqJ6+BK2cgfMIxWxFkzBFJEI+b8xhESsJ3JINXZhlHfwC/14Nqcp7BYDAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"버킷 옵션 구성\"\n        title=\"버킷 옵션 구성\"\n        src=\"/static/2a69097e65dfe4c0ba9d26f4444209a8/5a190/aws-s3-hosting-11.png\"\n        srcset=\"/static/2a69097e65dfe4c0ba9d26f4444209a8/772e8/aws-s3-hosting-11.png 200w,\n/static/2a69097e65dfe4c0ba9d26f4444209a8/e17e5/aws-s3-hosting-11.png 400w,\n/static/2a69097e65dfe4c0ba9d26f4444209a8/5a190/aws-s3-hosting-11.png 800w,\n/static/2a69097e65dfe4c0ba9d26f4444209a8/0d6fe/aws-s3-hosting-11.png 1115w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">버킷 옵션 구성</figcaption>\n  </figure></p>\n<p>기본 설정으로 정적 웹 호스팅 환경을 구성할 수 있기 때문에 아무것도 건들지 않고 다음으로 넘어간다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAACkUlEQVQoz2WR2U8TURTG54+TRaFASywtbZqSblNogdKNbnZaVgO0AhKeTAwaOhS1UApUjInGRxPBB2UNQoPdIgpGq8DD5713gJA4yS/fOd+555x7M5xiIoO66deon3yF2liWsIoaQtXYKqovY/nkSyin1nA7Lvn0zBW0XhvP4s74GuoeZMHZ3+Shf3eK5uUS6lMFNCxIaFbLUGYkr3mpCBWpU9QrJchIXUZ8WlOki2haLKAulWfKGWJPoZ9IQjs2B/WICA3TBNriInRjIotVxG8h6ONJ4kvn1KMiU10sSXpoPgd5/ww4Je+E0RVGR6Af7f5+2IIDsAUGwPv6YPJGYSZq9RH1CjC6BRjcYZg8Asv53ighArMnDIMzBIWxC5yqK4hHM7PIrqwgk05jOZNBZmkJy+lFPEstQny+AFFMIpGYI4gSswkpFwnzLwgpzKfS4AODZGBnAHt7u8D5L5wWDlD5lsdvSimHSvkIleMCKt+L+HOcZ5yflHD+o4SLn8c4Oynj4qyCs78V0G9o+rE08O37dXzJF/FxawcbmztEd5l++LTFWKd83sYGYXP/ELu5r9g5PJI4yGF7/wA50u8bmZIGmnwDsAsj4IPD0PbcQ2t3CFqHpK2OEPPU3UE0WtxoNLvQYHKiwey8VNc1MpJzSpsPqs4gbMIorKH7sEdG0dUXY7GFLKBLTP5BaMiCu+QsRWn3S2rzX8ctndJCroUYavJj+NAwzKTREhhiw3ROgQ3R9oTZDWmjwupFczul90bshZz3QGZwoNHYLQ2kjXpPFDpXhEFjvTvKtM3bx6DPl5MhipuQYfRWdKn/4RPIvOPkye0e3Gq1oFprvabqCg2FZ1C/VtfxH9RvMjnACzHUdETwD6rFeRihpkkiAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"버킷 권한 설정\"\n        title=\"버킷 권한 설정\"\n        src=\"/static/48e4e206c72dc644fa407df04a787b9d/5a190/aws-s3-hosting-12.png\"\n        srcset=\"/static/48e4e206c72dc644fa407df04a787b9d/772e8/aws-s3-hosting-12.png 200w,\n/static/48e4e206c72dc644fa407df04a787b9d/e17e5/aws-s3-hosting-12.png 400w,\n/static/48e4e206c72dc644fa407df04a787b9d/5a190/aws-s3-hosting-12.png 800w,\n/static/48e4e206c72dc644fa407df04a787b9d/0d6fe/aws-s3-hosting-12.png 1115w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">버킷 권한 설정</figcaption>\n  </figure></p>\n<p>기본적으로 Amazon S3은 계정 및 버킷에 대한 퍼블릭 액세스를 차단한다. 하지만 정적 웹 호스팅 환경을 구성하기 위해서는 요 퍼블릭 차단 설정을 해제 해주어야 한다. 모든 퍼블릭 액세스 차단 체크박스를 해제 하고 다음을 눌러준다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAABzUlEQVQoz5WRbU/aUBTH++UU0pY+QFtF48OKtBVaBsWBUDQuw+eom8Ts3WQzvndPAiYmS/ZdFtS92hf4e+5FDEuWDF78cu75957/OfdUSJ5+g/T+FnLrBvHjDmJPTB11MH00OOutHqyzm2c9NnJvmoifdCG+60F624UQ/PiF5Z9/YFzfQbnqQ/3Sh0YsdB8we30P5XMf5vd7zHcesNT7jTRpKmkM9o3lxtc7JKhWpzohc3yB9OElktufIG194MiEtd1GstmG/PqcayLTdj4i9aQNMSjXuNbmdYLphrDDBjLlBgynCMsLYbolpJwSVDuANoLyIviH5kNbKULPFpFYzkOYfdmAVSAzv/5MKl/jqF4Fqlv5Ow7Po/pqlZNw1siwECGz3kSajFUSFCKVq8LIr/Ncc1/9B7pDZjozzJaZYR25zQNk6zsQMyVIBDM0/RrP5ZVwIoSZoA5/6xBeY4+6VHiXJJ+wBokusHxshoZOtAu7+gZzpQ3+ZJ12w54s2uNNmOCxDHnw5Ijvj+2DdWFR9wZo40A7lFidE0KxCwNDk/7sDEWLpp0EVseG2WidY3H/Alp0BsHKVTA17yG+mENsYXLEJR9utAd17QDxoIlHH8MnW7CTrLYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"버킷 만들기 검토\"\n        title=\"버킷 만들기 검토\"\n        src=\"/static/1a18c81a8b5de3123a296d868ada50c0/5a190/aws-s3-hosting-13.png\"\n        srcset=\"/static/1a18c81a8b5de3123a296d868ada50c0/772e8/aws-s3-hosting-13.png 200w,\n/static/1a18c81a8b5de3123a296d868ada50c0/e17e5/aws-s3-hosting-13.png 400w,\n/static/1a18c81a8b5de3123a296d868ada50c0/5a190/aws-s3-hosting-13.png 800w,\n/static/1a18c81a8b5de3123a296d868ada50c0/0d6fe/aws-s3-hosting-13.png 1115w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">버킷 만들기 검토</figcaption>\n  </figure></p>\n<p>마지막으로 실수한 부분이 있는지 검토를 마친 후 버킷 만들기 버튼을 클릭하면 버킷 생성이 완료 된다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 22.499999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAAAz0lEQVQY03WO2W7CMBBF/f8vfBbPRaCqUKkhKmQhYMdO4i3OZWwStanUkY5mu7OwXimM4wjvfSLGf/G/+osmeq11ItWpxgcLdm87WOfWwzP/LV+8omeklPORgCkEsM22RM41Jm9hjIGPy9MnDpgmLBZ+wpfNvUBLnLVwLuLAjvkFl7oBVx1EN6zpB7S9hqBPiuqKWqiUR640c3uIpKseHHlRomkl2CGvsSc+yhaZsPjiZg3VsrvC9/lAXr5yYUgvsDtX+Gw6vBcc2/0Jb1mJJ4hXgWRimZ1hAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"S3 버킷 목록\"\n        title=\"S3 버킷 목록\"\n        src=\"/static/472176863a8d074f84008aa95cb4fa79/5a190/aws-s3-hosting-14.png\"\n        srcset=\"/static/472176863a8d074f84008aa95cb4fa79/772e8/aws-s3-hosting-14.png 200w,\n/static/472176863a8d074f84008aa95cb4fa79/e17e5/aws-s3-hosting-14.png 400w,\n/static/472176863a8d074f84008aa95cb4fa79/5a190/aws-s3-hosting-14.png 800w,\n/static/472176863a8d074f84008aa95cb4fa79/bb3ba/aws-s3-hosting-14.png 1121w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">S3 버킷 목록</figcaption>\n  </figure></p>\n<p>S3 버킷 목록으로 돌아오면 방금 생성한 버킷이 보인다. 이 버킷 항목을 눌러 버킷 설정 화면으로 이동한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABEElEQVQoz5WRW0vDQBCF93eLv0Dwob7VB8FLEaoglT6IWqRC0QerRAWLWARRjMHmstlLsrkcZ4MVFQlx4ePA2Zmzyww7v3RwOBzh7OoasZSYPj1jfHsHZ3KPyfQRSitIi1IQDWC7R6dod/vo9I+hdYLhhYOVrT0sdfax2hsgElRIvtCawhOopB4mMyBKS2Ql4OsMKgceghyLJy4WBq+4cel3pgBPcxQlFdWcku7Z27uPF9eD1VkYwSP1ZgFkYqBNhiynoKKoJacaYwx4HINt9g7gh2E1P2tEhNVYCAgpKuUNsb1seW0bAefQaULD11+IT+Q/Ya2NHfgRrwYqGm6ydsut9e6PwN8vzr15w3fvLz4AAzNezKOEX0UAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"버킷 권한 - 정책 설정 화면\"\n        title=\"버킷 권한 - 정책 설정 화면\"\n        src=\"/static/cdc38d99a45b48a154bc2840908324d8/5a190/aws-s3-hosting-15.png\"\n        srcset=\"/static/cdc38d99a45b48a154bc2840908324d8/772e8/aws-s3-hosting-15.png 200w,\n/static/cdc38d99a45b48a154bc2840908324d8/e17e5/aws-s3-hosting-15.png 400w,\n/static/cdc38d99a45b48a154bc2840908324d8/5a190/aws-s3-hosting-15.png 800w,\n/static/cdc38d99a45b48a154bc2840908324d8/c1b63/aws-s3-hosting-15.png 1200w,\n/static/cdc38d99a45b48a154bc2840908324d8/7a4b2/aws-s3-hosting-15.png 1240w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">버킷 권한 - 정책 설정 화면</figcaption>\n  </figure></p>\n<p>권한 탭을 클릭한 후 버킷 정책 항목을 클릭한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAAAv0lEQVQoz6XRuQ6CQBAG4H1xC20sbCywMBotNHY+io2hNpxyLMhyH7L8whbEmJgIFl9mqsk/M8SiPu4OhRcw+CyE6weics7RNM1POG/wrGtczAREOp6hGgYs2wYLQ2RFMVqU5SCz1R6KbuAqy1A0DSyKhDCOEaUp4gGSFpmvD21CE6qu46Yo0E0TDqVwPa8f3Hnvv2EtMpV24n7dDYqqQl6W/Qppng9GJssN6CMQA0TsLPsLWWxP4qtFm2xMok8vMhEVUEbRnnYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"버킷 정책 편집\"\n        title=\"버킷 정책 편집\"\n        src=\"/static/455c716302625b6a609304104c0d920a/5a190/aws-s3-hosting-16.png\"\n        srcset=\"/static/455c716302625b6a609304104c0d920a/772e8/aws-s3-hosting-16.png 200w,\n/static/455c716302625b6a609304104c0d920a/e17e5/aws-s3-hosting-16.png 400w,\n/static/455c716302625b6a609304104c0d920a/5a190/aws-s3-hosting-16.png 800w,\n/static/455c716302625b6a609304104c0d920a/c1b63/aws-s3-hosting-16.png 1200w,\n/static/455c716302625b6a609304104c0d920a/7a4b2/aws-s3-hosting-16.png 1240w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">버킷 정책 편집</figcaption>\n  </figure></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">{\n  &quot;Version&quot;:&quot;2012-10-17&quot;,\n  &quot;Statement&quot;:[\n    {\n      &quot;Sid&quot;:&quot;PublicReadGetObject&quot;,\n      &quot;Effect&quot;:&quot;Allow&quot;,\n      &quot;Principal&quot;: &quot;*&quot;,\n      &quot;Action&quot;:[&quot;s3:GetObject&quot;],\n      &quot;Resource&quot;:[&quot;arn:aws:s3:::버킷 이름/*&quot;]\n    }\n  ]\n}</code></pre></div>\n<p>웹 사이트에 대한 퍼블릭 읽기 액세스 권한을 부여하기 위해 위의 버킷 정책을 복사한 후 버킷 정책 편집기에 붙여 넣은 후 저장을 눌러준다. Resource에는 버킷 이름을 입력해야 한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABWklEQVQoz21RuU7DQBT0/yJR8Akpokg0CEgEHRINHb9BR4EoUiBIIhHfx3q9vj3MW9sIBGuPdz1v33hm7by9f+B1u8XucEAQxwiSlHOCY5TAI3yuozRDUZb/wPzhnOXtPRabOzR1jafnF5wuL3G2WuN8fY3FxRVOVhvcPDyiYj3TGnlR/IKaocd3R+UaGdG27dgk70qjMmzOFVKuC2NsvRE0DTHOtazJtRad5Zy2bTDwihjX9Tx0XQcZZVWh5sZMKXjkY9azLLP1ktEEu/0eR9dFGIYWNQ05mjGSNEUYRUikiQIqz22DFQsC2xRwTrlP9ovjmGvPD2jCtbygoglHVPu+gy5rRLrEMAw2gjic4cYp/ESh78ZY8jGJKm4/YwVTNzaVdSgPEeGNXh4ccywRHiZuHsIZOhx75LDwvccKKsYy06GLUDe5MBTMp+jCzXWpCV/wj4rAz5pE/gISt2G15F8n5gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"버킷 속성 화면\"\n        title=\"버킷 속성 화면\"\n        src=\"/static/e2144d830f6d19601c6b57ba6360e72a/5a190/aws-s3-hosting-17.png\"\n        srcset=\"/static/e2144d830f6d19601c6b57ba6360e72a/772e8/aws-s3-hosting-17.png 200w,\n/static/e2144d830f6d19601c6b57ba6360e72a/e17e5/aws-s3-hosting-17.png 400w,\n/static/e2144d830f6d19601c6b57ba6360e72a/5a190/aws-s3-hosting-17.png 800w,\n/static/e2144d830f6d19601c6b57ba6360e72a/adc48/aws-s3-hosting-17.png 979w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">버킷 속성 화면</figcaption>\n  </figure></p>\n<p>속성 탭을 선택한 후 정적 웹사이트 호스팅 항목을 클릭한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 557px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 116.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsSAAALEgHS3X78AAAC3UlEQVQ4y51VSW/TQBTO3+LIqv4BTnBpUUsL4oDEhaIiTty4cgUJiuAGdEMFoQJHxAE4ERZna7M48TrO2OPl471xbaVtEiJG+vQmnufP31vmpbL+rY1buzWs7TVw91MLax+buP22hjvvalgly/vCHoVRgs9v7hh49LmFyj0iOPX4B86vV3HhxS/Mvarj4ksDN940sLzdwPxGDdd2Glggu7RV1/u5Zz9x+kkVZ59WcYZwjjD3/DdWd/+g8vBLG5c36likl1feH+D63gFWdptY3qphZbtOto6rtGcsbebPFskuvDYwf4grGwYukYgHn+qoOIGELRVMx4flBzADha5QaLkRWl6EfcIBoekWe6X3PfLzwgTuIbwoxcATqMRRhCRJ0Oj0UetaMJwIhhtjEKZwoyyHyjCQKSx6JhS9OIwRximOr1BKVFQUwpEJvndInTdEs2ehM7DhODYC4cN1HfieB+HnsEgZE9oyRpplyAhseQ2HQ1QSFcEUEb7uu8hUCJeIbMchuBBCEKGn4dBvl4jtoYJFAmzCIY8mLQmlDEvJQ9onsULHjxDEGcavLAcrS1NNdoQwDHPChA59nwpjWTq0OI6ng/KulNK2FDRKyF/hULu9HvqOpws1C2EyjZAdFDl3gkSHVSR9Gk7kcJTQIYU906QiuKWShKA/pOIR5B+OqOXYZ6JCh4jMfl9XlJ0lnQkZTQz7nyEzCf+W1KB86PlC35L/DpnbYLQVtGOWls+Pg9UV/icIC6eCPMtbrWzesR050osTFY4qy9IckxTqoo3LIR9ygj26WtzY3f5AT5RukF8xbqFZ2ucIIRdEiECTenRjHCHBo82nKk8OOUd6nLBoau4/y86Hg2UNNARNnGmq8rudL5kPB6lbhfNRFGVc8sdB0mxUSYq2HsAKIiBClsmqmLQo0KyrSdNbJhnuf6C/jc0GTJcmNucsCAI9+xg8cWbFgIaITbPS6Nqotm0t7C/LLNDMfAD4lwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"인덱스 문서 구성\"\n        title=\"인덱스 문서 구성\"\n        src=\"/static/c6cae1a7b9a17b7bcd3c2aca67eabc56/30d00/aws-s3-hosting-18.png\"\n        srcset=\"/static/c6cae1a7b9a17b7bcd3c2aca67eabc56/772e8/aws-s3-hosting-18.png 200w,\n/static/c6cae1a7b9a17b7bcd3c2aca67eabc56/e17e5/aws-s3-hosting-18.png 400w,\n/static/c6cae1a7b9a17b7bcd3c2aca67eabc56/30d00/aws-s3-hosting-18.png 557w\"\n        sizes=\"(max-width: 557px) 100vw, 557px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">인덱스 문서 구성</figcaption>\n  </figure></p>\n<p>S3에 업로드 하려는 웹 콘텐츠 파일들이 React로 작업한 SPA 구조를 가지고 있기 때문에 인덱스 문서와 오류 문서에 index.html을 입력해준다.</p>\n<p>SPA는 최초 요청에서 index.html을 받은 후 js, css 등 필요한 파일들을 로드하여 앱을 초기화 한다. 때문에 인덱스 주소(/)로 접속한 후 다른 페이지로 이동하면 문제가 없으나 하위 url을 복사해서 접속하거나 인덱스 페이지에서 다른 페이지로 이동 후 새로고침을 하면 해당 url에 맞는 html파일을 찾을 수 없기 때문에 404 페이지가 나오게 된다. 이 문제를 해결하려면 하위 url로 접근해도 index.html을 반환하도록 하게 하면 된다. 그래서 오류 문서에도 index.html을 입력하는 것이다.</p>\n<h3>배포</h3>\n<p>AWS CLI 설정과 S3 설정이 완료 되었으므로 이제 배포를 하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node scripts/start.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node scripts/build.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node scripts/test.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"deploy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"aws s3 sync ./build s3://버킷 이름 --profile=IAM 이름\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>좀 더 편한 배포를 위해 package.json 파일의 scripts 부분에 deploy 명령어를 추가한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">yarn build &amp;&amp; yarn deploy</code></pre></div>\n<p>이제 프로젝트 빌드 후 deploy 명령어로 배포까지 한 후 엔드포인트로 접속해보면 정상적으로 페이지가 뜨는 것을 확인할 수 있다.</p>\n<h3>CloudFront 설정하기</h3>\n<p>AWS CloudFront란 .html, .css, .js 및 이미지 파일과 같은 정적 및 동적 웹 콘텐츠를 사용자에게 더 빨리 배포하도록 지원하는 CDN 서비스이다.</p>\n<p>S3로 구축한 정적 웹 사이트에 HTTPS를 사용하려면 CloudFront를 사용해야 한다. HTTPS 지원 뿐만 아니라 CloudFront를 사용하면 커스텀 도메인 사용도 가능하며 S3에 직접 액세스 하는 것 보다 요금도 저렴하다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAt0lEQVQoz62RCw7CIBAFuf8BbaIx8VvEkrbQAmWBPhdPYFWSCWGzPLKDaKVExXuPEMJPOM4QspVQSiERoZSCkjNySl+xLAvE6XJFbywcH6zz751yQSrrJvK6gjhUHG4Szf6IVvfQLqCbPUxMsJRhPqT2SuvgI0E0d43dWUIPIwIX6muRx94CMYESImsTuh/weHZQjGex1WOuHjdS7xGHimmeYe2Ef6xUHRoOG41B4M+IMWL5gTrhC9bHcPAU+bOIAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"AWS 서비스 메뉴\"\n        title=\"AWS 서비스 메뉴\"\n        src=\"/static/9cf0e745ae2a83fb90b498ea6d35aada/5a190/aws-s3-hosting-19.png\"\n        srcset=\"/static/9cf0e745ae2a83fb90b498ea6d35aada/772e8/aws-s3-hosting-19.png 200w,\n/static/9cf0e745ae2a83fb90b498ea6d35aada/e17e5/aws-s3-hosting-19.png 400w,\n/static/9cf0e745ae2a83fb90b498ea6d35aada/5a190/aws-s3-hosting-19.png 800w,\n/static/9cf0e745ae2a83fb90b498ea6d35aada/c1b63/aws-s3-hosting-19.png 1200w,\n/static/9cf0e745ae2a83fb90b498ea6d35aada/29007/aws-s3-hosting-19.png 1600w,\n/static/9cf0e745ae2a83fb90b498ea6d35aada/573d3/aws-s3-hosting-19.png 1650w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">AWS 서비스 메뉴</figcaption>\n  </figure></p>\n<p>AWS 서비스 메뉴에서 CloudFront를 검색하여 CloudFront 메뉴로 이동한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 18.999999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAt0lEQVQY022PQQqDMBREc/9TdNlbdNd9lVI1mmgQRC0aNAYX6tT/qdJFA49J/kzCRLykglQGOs+RZRmapgGtdV1PlmXBtm1/OXyC9uJy07jeS7w7C9v3sNbCe38yzzPr76XjEVLy6rrmIm3bQgThE48gRBzHSJIEUkqkacpt8701haqqQlmWKIoCSimeE8YYnmmtEUUR54SfJjg3Ytq16zr035bDMGAcx91z3IB04qw7ofMB5ek3HxpiLsQ8+mQLAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"CloudFront Distribution 목록\"\n        title=\"CloudFront Distribution 목록\"\n        src=\"/static/331b9e4c0d0c2905e173c4878359aa8e/5a190/aws-s3-hosting-20.png\"\n        srcset=\"/static/331b9e4c0d0c2905e173c4878359aa8e/772e8/aws-s3-hosting-20.png 200w,\n/static/331b9e4c0d0c2905e173c4878359aa8e/e17e5/aws-s3-hosting-20.png 400w,\n/static/331b9e4c0d0c2905e173c4878359aa8e/5a190/aws-s3-hosting-20.png 800w,\n/static/331b9e4c0d0c2905e173c4878359aa8e/c1b63/aws-s3-hosting-20.png 1200w,\n/static/331b9e4c0d0c2905e173c4878359aa8e/29007/aws-s3-hosting-20.png 1600w,\n/static/331b9e4c0d0c2905e173c4878359aa8e/8bd7d/aws-s3-hosting-20.png 2358w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">CloudFront Distribution 목록</figcaption>\n  </figure></p>\n<p>Create Distribution 버튼을 클릭한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 23%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAuElEQVQY032PawrCMBCEc/8jeBdPYQJpCkr6wBZKmz6gj7Qd3VVLfqgDX4YkMLsj0jRFkiQgz7IMt+sVeZ6jKApYa9lD7fv+FVJd1xB0OOfQdR2GYeDPdV2xLAvjn8zzjGma+L5t209IQskLlFKQUkJrDWMMyrJEVVVo2xbjOPIgGkih/0TLCKUNoshwUBzH7FSVApumOcKIvu/ZaVDIpzIHns4Wdze/H16TaH2q7b0/4PrBPSQMfABFyoC26QZQhwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Create Distribution - step 1\"\n        title=\"Create Distribution - step 1\"\n        src=\"/static/05c0d50a44dfc6eb399a6eeb005cbf0d/5a190/aws-s3-hosting-21.png\"\n        srcset=\"/static/05c0d50a44dfc6eb399a6eeb005cbf0d/772e8/aws-s3-hosting-21.png 200w,\n/static/05c0d50a44dfc6eb399a6eeb005cbf0d/e17e5/aws-s3-hosting-21.png 400w,\n/static/05c0d50a44dfc6eb399a6eeb005cbf0d/5a190/aws-s3-hosting-21.png 800w,\n/static/05c0d50a44dfc6eb399a6eeb005cbf0d/c1b63/aws-s3-hosting-21.png 1200w,\n/static/05c0d50a44dfc6eb399a6eeb005cbf0d/29007/aws-s3-hosting-21.png 1600w,\n/static/05c0d50a44dfc6eb399a6eeb005cbf0d/5b30f/aws-s3-hosting-21.png 2372w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Create Distribution - step 1</figcaption>\n  </figure></p>\n<p>Web 부분에 있는 Get Started 버튼을 클릭한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 83%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAABlUlEQVQ4y4WUiY6CQBBE+f/f80yIZxQVUFDk8Ozl9abJ6AI7STnM0F1UX3rD4VDG47GMRiOZTCay2+2ka73f794zy5vNZjKdTmW5XEpRFFJVlTyfT7nf7/J4PBq8Xq+GhLORfZN6/EASRZHieDxKkiQShqHEcaw74GM4A+57CW1BBCHqbrebok3l6XTqJuTCwjufz/r1tCbe17nEkfCBGyYf7VV4uVyaULPrVYIwkTwvGodvYN9JSG5QhRp2iMuy+gjVYM5pmn4QulDCw+GgBSH5v4Sl5svCNbSF/KdtLMmQGjEO9CPVxxFy4BKSd+6M3N57JtUu2N0e/C6K9aG9w9be46uNvdlstLHn87kEQSC+76varmmx9mkN2XJFz0FGyBSHinPvTojt2HQWhcs8z5WA6mVZJusgFGYcxRSKsFxnbP4lpLcAz3GSyWq11nFrW9j0TgoGTAngebuPZDAYaC4Xi4Vc62ZHPTA7V90HIaqsoWkfnKqyULU4cjb1nEkN6B09cmL/NpBaX5I/7iBoFNVF6iP8ATfuK+O4foMGAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Create Distribution - step 2\"\n        title=\"Create Distribution - step 2\"\n        src=\"/static/060c4476220f46343559b84c576cf7a2/5a190/aws-s3-hosting-22.png\"\n        srcset=\"/static/060c4476220f46343559b84c576cf7a2/772e8/aws-s3-hosting-22.png 200w,\n/static/060c4476220f46343559b84c576cf7a2/e17e5/aws-s3-hosting-22.png 400w,\n/static/060c4476220f46343559b84c576cf7a2/5a190/aws-s3-hosting-22.png 800w,\n/static/060c4476220f46343559b84c576cf7a2/c1b63/aws-s3-hosting-22.png 1200w,\n/static/060c4476220f46343559b84c576cf7a2/29007/aws-s3-hosting-22.png 1600w,\n/static/060c4476220f46343559b84c576cf7a2/07d37/aws-s3-hosting-22.png 1790w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Create Distribution - step 2</figcaption>\n  </figure></p>\n<p>Origion Domain Name 항목의 input 박스를 클릭하면 방금 만든 S3 버킷이 나타난다. 해당 S3 항목을 선택한다.</p>\n<p>Viewer Protocol Policy 항목에서는 Redirect Http to Https 를 선택하고 화면을 쭉 내려서 Create Distribution을 클릭한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 20%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA2UlEQVQY032Qy06EQBBF+f/v8B/cOksXLsZBY6R5NLSY8JppaAI0MMduFiZurOSkblK1uPcGYZTz/Cp4iyRpmiKlxFrLvu9s2/bLf7Ouq8OyLAvB44vi4SnhFH5zu3Z0XUfbtuh+QA8GM470fc/otscY80f7/yzLiOOYJEkIjG5RWYSSCULEfHwKokiQvYeklzP1l6Kqa1RRUDh8AqUUMpcU7uZTCSGoquowEth146Z7VhfL626YmWfL1NZcVc4yaPb7nWmaDnwVPpoZnftlpGkayrJEa31U9QMPzC4fd7M1mAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"CloudFront Distribution 목록\"\n        title=\"CloudFront Distribution 목록\"\n        src=\"/static/0d79aa59f244394f2b2d8615b054d906/5a190/aws-s3-hosting-23.png\"\n        srcset=\"/static/0d79aa59f244394f2b2d8615b054d906/772e8/aws-s3-hosting-23.png 200w,\n/static/0d79aa59f244394f2b2d8615b054d906/e17e5/aws-s3-hosting-23.png 400w,\n/static/0d79aa59f244394f2b2d8615b054d906/5a190/aws-s3-hosting-23.png 800w,\n/static/0d79aa59f244394f2b2d8615b054d906/c1b63/aws-s3-hosting-23.png 1200w,\n/static/0d79aa59f244394f2b2d8615b054d906/29007/aws-s3-hosting-23.png 1600w,\n/static/0d79aa59f244394f2b2d8615b054d906/24c79/aws-s3-hosting-23.png 2510w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">CloudFront Distribution 목록</figcaption>\n  </figure></p>\n<p>완료 후 다시 CloudFront Distribition 목록으로 돌아오면 방금 생성한 CloudFront가 보인다. 항목에 있는 Domain Name 값으로 S3에 배포한 React 앱에 접속할 수 있다. Custom Domain도 설정할 수 있으나 적용할 도메인이 없어서 일단 이 과정은 패스 하겠다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 23%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA5ElEQVQY02WQzW6DMBCEef+Ha9LkkB7AxoQqwb8IDAFsmGaNkKr28GlmZ7yW7GyeZ/S9x7OR4KJCXjCIqkZZ3SHuNZSx6IcRvR/Q/WHP/K/OI2OcgTGG+r1cliV4yd8XCnDOU14URYLmPM+TF2Lvj5z2yFOfWWFgjIHWGs44DNZjGReEGLBuK2KMiCEmDSHsc/w/kyey5vwAvzCcPk64Xq64fd7w/VXDcI1edZheUzq4LEvi8IfSl5Ffw4otbshabtFKB6kkjDZQWiWaR5OQUsJaC6VUeolzLillpNRT9mpHTN2EH/ppeVDYFtq7AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"403 Error\"\n        title=\"403 Error\"\n        src=\"/static/98988dbeb8056b3d39daae17f26a0a0f/5a190/aws-s3-hosting-24.png\"\n        srcset=\"/static/98988dbeb8056b3d39daae17f26a0a0f/772e8/aws-s3-hosting-24.png 200w,\n/static/98988dbeb8056b3d39daae17f26a0a0f/e17e5/aws-s3-hosting-24.png 400w,\n/static/98988dbeb8056b3d39daae17f26a0a0f/5a190/aws-s3-hosting-24.png 800w,\n/static/98988dbeb8056b3d39daae17f26a0a0f/c1b63/aws-s3-hosting-24.png 1200w,\n/static/98988dbeb8056b3d39daae17f26a0a0f/e405b/aws-s3-hosting-24.png 1566w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">403 Error</figcaption>\n  </figure></p>\n<p>하지만 CloudFront에서 제공한 url로 접속시 403 에러가 뜬다. 하위 url이 아니라 root url로 접속해도 403 error가 뜨는데 왜 그런지는 잘 모르겠다 ㅠ.. 그래도 다행히 해결법은 있다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 18%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA6UlEQVQY022Py2rCYBCF88hdtlD6Di4K7cuUVtFgio3/NQlIiUmIMRFvWIkW/ZqEQjc9zMeZGc7mOIvFgu1215FlGe2dphn7/Z71ek2xXHJI53wKQzQR7OZxlynLkuPxSJIkrFYr6rqmKAocYxRhGGCNRmtJGLSuML/4vk8gpoQTD+O5RMJHKoUQAmNM5y1xHHM6nXAGr0NGAxe3wRtPGY01ysywswQVxWhjUVpjgrAhQDa7lBJrbdeoqiryPGez2dDKuem98fDU5+6xz/3zkNveCx/vEefvM4evugluuVwucL0288d/av8/qgAf1lh5KpIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"CloudFront Error Page 추가\"\n        title=\"CloudFront Error Page 추가\"\n        src=\"/static/ddf95955abc1d163b8c0d0de66d5981a/5a190/aws-s3-hosting-25.png\"\n        srcset=\"/static/ddf95955abc1d163b8c0d0de66d5981a/772e8/aws-s3-hosting-25.png 200w,\n/static/ddf95955abc1d163b8c0d0de66d5981a/e17e5/aws-s3-hosting-25.png 400w,\n/static/ddf95955abc1d163b8c0d0de66d5981a/5a190/aws-s3-hosting-25.png 800w,\n/static/ddf95955abc1d163b8c0d0de66d5981a/c1b63/aws-s3-hosting-25.png 1200w,\n/static/ddf95955abc1d163b8c0d0de66d5981a/29007/aws-s3-hosting-25.png 1600w,\n/static/ddf95955abc1d163b8c0d0de66d5981a/776d3/aws-s3-hosting-25.png 1814w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">CloudFront Error Page 추가</figcaption>\n  </figure>\nColudFront Distributions 목록에서 S3와 연결되어 있는 항목의 ID를 클릭한 후 Error Pages 탭을 클릭한다. 그리고 Create Custom error Response 버튼을 클릭한다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAxklEQVQY042P6w6CMAyFef9H8U18AP8BCRMzYSjILty2HddhYiRRadKdbu2+tkme50jTFKRFwZBlWXQpJbbmvcc/S/q+j58559HLsoQQAsuyYBgGzPMM5xzGcdwFTaiAoARh7BzgClprGGMC0EQwuVJqH5C6t20bgVVVQ9wfsNZ9FBGQGmyBa+xB4sJhnUdCiWma0DQNuq4D4w3YtcVNTqg7A2l+T7he328RaK19rThAB1VKh3iMMTUjCEG/TUgLnS4KhyPHE/cj0/yg1cfqAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"CloudFront Error\"\n        title=\"CloudFront Error\"\n        src=\"/static/5dbda656a6743a6b5023d80629477bea/5a190/aws-s3-hosting-26.png\"\n        srcset=\"/static/5dbda656a6743a6b5023d80629477bea/772e8/aws-s3-hosting-26.png 200w,\n/static/5dbda656a6743a6b5023d80629477bea/e17e5/aws-s3-hosting-26.png 400w,\n/static/5dbda656a6743a6b5023d80629477bea/5a190/aws-s3-hosting-26.png 800w,\n/static/5dbda656a6743a6b5023d80629477bea/c1b63/aws-s3-hosting-26.png 1200w,\n/static/5dbda656a6743a6b5023d80629477bea/29007/aws-s3-hosting-26.png 1600w,\n/static/5dbda656a6743a6b5023d80629477bea/4969b/aws-s3-hosting-26.png 2454w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">CloudFront Error</figcaption>\n  </figure></p>\n<p>HTTP Error Code에서 403을 선택한다. Error Caching Minimum TTL 항목은 CloudFront에서 오리진 서버로부터 오류 응답을 캐싱하려는 최소 시간을 설정하는 항목인데 얼마를 입력해야 좋을지 몰라서 일단 0을 입력했다. Response Page Path는 /index.html, Response Code는 200으로 설정한다. </p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 15.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAc0lEQVQI121NSwoFIQzz/lccdeMPEVz4w41maIduHi8Q2qZJq0opCCHAOcdVeqL3HiklxBi5J01m2WutPz4PrLVQYww+QqZaK+gBhUjLOWPOyTtjDOutNdblGWXoRu+dqc452HtDQPMv1lpsFpD/3ot/eAEEV+Ng6AA0zAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"CloudFront Distribution 목록\"\n        title=\"CloudFront Distribution 목록\"\n        src=\"/static/7b15c710bb49350e861108e66fa7feb0/5a190/aws-s3-hosting-27.png\"\n        srcset=\"/static/7b15c710bb49350e861108e66fa7feb0/772e8/aws-s3-hosting-27.png 200w,\n/static/7b15c710bb49350e861108e66fa7feb0/e17e5/aws-s3-hosting-27.png 400w,\n/static/7b15c710bb49350e861108e66fa7feb0/5a190/aws-s3-hosting-27.png 800w,\n/static/7b15c710bb49350e861108e66fa7feb0/c1b63/aws-s3-hosting-27.png 1200w,\n/static/7b15c710bb49350e861108e66fa7feb0/29007/aws-s3-hosting-27.png 1600w,\n/static/7b15c710bb49350e861108e66fa7feb0/55681/aws-s3-hosting-27.png 2062w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">CloudFront Distribution 목록</figcaption>\n  </figure></p>\n<p>403 에러 뿐만 아니라 404 에러도 같은 방법으로 만들어 주었다.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 98.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB9UlEQVQ4y92UP2/TQBjGLcTOAOkHoDsjUmckpkaWR6ZIsEBZihIFiY/AZ+gAqFRdOkVBFAlVQNWoxLFzcZLGxFHbqIqb2vXfVnFt371c7SQYaAUknXikn/z4vXuf8/lkM8svX10vlzbv81KV29vrspp+zJqmxR5pOis1ZFZEDbZaa14KkloRImpyHzc2bzEvnjy/2et2NMdzQdcN0A0DHNcFGgpqX4Nj047QDWvsk/Q1Aw6PdBh4Pmx/5eeZxwtPU1slsVferkGlUg95XsLlsoR5vo6r4g5GqIVRtYUbdSX2CWpIxkKlgUtbQigKTVhdXUszi4vPUqra7znOCVimgx37hNi2G2O5hNYiryi7xKTeOq9Zzg9ozTDs8PTUg8+fvqSZXC6XCgJfhVgYLlAYBvDo4QKo6uFFw2TUhxBKM9lsNjUYDKJAQgimwIggCKOOpaXXMHv7DnS7B8MFMCTmnSsKFAQhDvQ8bxw4XpZOxji+5bgHMDd3D5JjCT9+wj8Gjq7r7zdg5e0aPXl7+sCzMx+U9j58k3eBHs7kgb82XlabaMvx+yQ/1aYOHDHVlv9G/0EgmUC/BdJP72AY6FPCCfCHgfNMPp+fCYLAhSsQ/TlwTCaTuSHL8ptOp7OuKEqR8u4fKbbb7SLt/1AoFO4yCV2bkkjfAeOvXMy1mhTFAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"CloudFront Distribution 목록\"\n        title=\"CloudFront Distribution 목록\"\n        src=\"/static/8cce1e0dd3dd73e02e22a0a28e3f787f/5a190/aws-s3-hosting-28.png\"\n        srcset=\"/static/8cce1e0dd3dd73e02e22a0a28e3f787f/772e8/aws-s3-hosting-28.png 200w,\n/static/8cce1e0dd3dd73e02e22a0a28e3f787f/e17e5/aws-s3-hosting-28.png 400w,\n/static/8cce1e0dd3dd73e02e22a0a28e3f787f/5a190/aws-s3-hosting-28.png 800w,\n/static/8cce1e0dd3dd73e02e22a0a28e3f787f/c1b63/aws-s3-hosting-28.png 1200w,\n/static/8cce1e0dd3dd73e02e22a0a28e3f787f/29007/aws-s3-hosting-28.png 1600w,\n/static/8cce1e0dd3dd73e02e22a0a28e3f787f/88745/aws-s3-hosting-28.png 2148w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">CloudFront Distribution 목록</figcaption>\n  </figure></p>\n<p>약 1분이 지난 후 새로고침을 해보면 접속이 잘 되는 것을 확인할 수 있다.</p>\n<h4>CloudFront 캐시 무효화</h4>\n<p>CloudFront로 파일을 배포하면 S3에서 파일을 업데이트 해도 캐시가 남아있기 떄문에 업데이트 이전의 파일을 보여준다. 캐시 유지 시간이 24시이기 때문에 파일을 업데이트 한후 24시간 이후에 업데이트 한 파일이 적용된다.\n캐시 시간에 상관없이 강제로 파일을 업데이트 하고 싶으면 Invaldiation 작업이 필요하다. 배포할 때 파일도 강제로 업데이트 할 수 있도록 작업을 해보자.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAABYklEQVQ4y62T21LDIBCG8/Q+hU/hE+gLeOOF04NtLAkhB2jOIQTyC9ixdYy9sO7MN+xy2N2fgYAxhizLMAyDZxxHP0opv+ZgFM42e+Z5mYBzDiEEqqpC27ao6xp5nqNpGpRl6ePnncCBS6SVBKsmNIO2OX8mcxZEhCChFH3fwxjjO3IJu67zRVzHjyubNKyxiitsMgnRGSyZOx+wrEDBha1g/GGl1KcoV9WOWrtutN2sMVl/mqYzF7GUI5zaICQJtnuCOCLIWIKUUQheoCqPHl4UiOMIlMZWSQzq/Nj6CQUhBziFzPrv4d4SWsl5hf1ui5d1iE3EESYcUSpATkQXxNkRb4cEr9vQx+t9hB1hft7FqagRdOOMYVRoR4OyN6ilvccJV5jRDgq9miFtLPV5Tdq1YPF2T09jmev7gt/e01/5/4S40dx7Nmb2ONE3d/jtXm+VrO3PmLTB/RPF3UMIqTQ+ALcc9IP+iwxFAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"CloudFront Distribution 목록\"\n        title=\"CloudFront Distribution 목록\"\n        src=\"/static/4af258e36f8f2e5f958bdeb081da5d4e/5a190/aws-s3-hosting-29.png\"\n        srcset=\"/static/4af258e36f8f2e5f958bdeb081da5d4e/772e8/aws-s3-hosting-29.png 200w,\n/static/4af258e36f8f2e5f958bdeb081da5d4e/e17e5/aws-s3-hosting-29.png 400w,\n/static/4af258e36f8f2e5f958bdeb081da5d4e/5a190/aws-s3-hosting-29.png 800w,\n/static/4af258e36f8f2e5f958bdeb081da5d4e/c1b63/aws-s3-hosting-29.png 1200w,\n/static/4af258e36f8f2e5f958bdeb081da5d4e/29007/aws-s3-hosting-29.png 1600w,\n/static/4af258e36f8f2e5f958bdeb081da5d4e/b5c21/aws-s3-hosting-29.png 2154w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">CloudFront Distribution 목록</figcaption>\n  </figure></p>\n<p>IAM 항목으로 가서 첫번쨰 단계에 만들었던 IAM 사용자에 CloudFrontFullAccess 권한을 추가해야한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node scripts/start.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node scripts/build.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node scripts/test.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"deploy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"aws s3 sync ./build s3://버킷 이름 --profile=IAM 이름\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"invalidate\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"aws cloudfront create-invalidation --profile=위에서 생성한 iam 사용자 이름--distribution-id 위에서 생성한 ColudFront distribution Id --paths / /index.html /error.html /service-worker.js /manifest.json /favicon.ico\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>s3에 배포한 React 프로젝트의 package.json 파일의 scripts 항목에 invalidate 명령어를 추가 해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">yarn build &amp;&amp; yarn deploy &amp;&amp; yarn invalidate</code></pre></div>\n<p>이재 배포할 때 invalidate 명령어를 같이 사용하주면 캐시가 무효화 되면서 새로운 배포 파일이 적용 된다.</p>\n<h2>마무리</h2>\n<p>S3에 React 프로젝트를 업로드 하여 정적 웹 호스팅을 하고 CloudFront 까지 적용해봤다. 나중에 젠킨스를 사용하여 자동 배포까지 적용해 보고 싶다. 부지런히 공부하고 실습해야겠다.</p>\n<h2>Reference</h2>\n<blockquote>\n<ul>\n<li><a href=\"https://aws.amazon.com/ko/s3/\">Amazon S3</a></li>\n<li><a href=\"https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/dev/Welcome.html\">Amazon S3이란 무엇입니까?</a></li>\n<li><a href=\"https://www.44bits.io/ko/keyword/amazon-web-service#%EC%95%84%EB%A7%88%EC%A1%B4-s3s3-amazon-simple-storage-service\">아마존 S3(S3, Amazon Simple Storage Service)</a></li>\n<li><a href=\"https://opentutorials.org/course/608/3006\">Simple Storage Service(S3)</a></li>\n<li><a href=\"https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/dev/WebsiteHosting.html\">Amazon S3 정적 웹 사이트 호스팅</a></li>\n<li><a href=\"https://react-etc.vlpt.us/08.deploy-s3.html\">리액트 앱 AWS S3, CloudFront 에 배포하기</a></li>\n<li><a href=\"https://blog.outsider.ne.kr/1394\">pushState를 사용하는 SPA를 S3와 CloudFront로 서비스하기</a></li>\n<li><a href=\"https://jaroinside.tistory.com/46\">SPA를 AWS S3 정적 웹 호스팅시 문제 해결</a></li>\n<li><a href=\"https://musma.github.io/2019/06/29/publish-static-assets-over-https-using-cloudfront.html\">CloudFront를 이용해 HTTPS로 정적 리소스 배포하기</a></li>\n<li><a href=\"https://velog.io/@_junukim/CloudFront%EB%A1%9C-React%EC%95%B1-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0-2\">CloudFront로 React앱 배포하기 - 2</a></li>\n</ul>\n</blockquote>","frontmatter":{"title":"React 프로젝트 AWS S3, CloudFront에 배포하기","date":"2020년 07월 26일"},"fields":{"slug":"/2020-07-26-etc-aws-s3-hosting/"}}},"pageContext":{"slug":"/2020-07-26-etc-aws-s3-hosting/"}}}